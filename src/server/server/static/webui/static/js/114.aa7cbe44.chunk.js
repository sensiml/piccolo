/*
Copyright 2017-2024 SensiML Corporation

This file is part of SensiML™ Piccolo AI™.

SensiML Piccolo AI is free software: you can redistribute it and/or
modify it under the terms of the GNU Affero General Public License
as published by the Free Software Foundation, either version 3 of
the License, or (at your option) any later version.

SensiML Piccolo AI is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public
License along with SensiML Piccolo AI. If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";(self.webpackChunksensiml_web=self.webpackChunksensiml_web||[]).push([[114],{54114:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var i=s(97508),a=s(35026),n=s(65043),o=s(91688),r=s(96446),l=s(97111),u=s(81131),d=s(70579);const p=(0,n.lazy)((()=>Promise.all([s.e(491),s.e(560),s.e(814),s.e(577),s.e(306),s.e(431),s.e(95)]).then(s.bind(s,13684)))),_=(0,n.lazy)((()=>Promise.all([s.e(491),s.e(560),s.e(357),s.e(814),s.e(132),s.e(935),s.e(306),s.e(431),s.e(899)]).then(s.bind(s,53899)))),m=e=>{let{selectedPipeline:t,loadingPipelineSteps:s,setLoadingPipelineSteps:i}=e;const{projectUUID:a}=(0,o.useParams)();return(0,n.useEffect)((()=>{i(!1,"")}),[]),(0,d.jsx)(r.A,{children:(0,d.jsxs)(o.Switch,{children:[(0,d.jsx)(o.Route,{path:l.bw.MAIN.MODEL_BUILD.child.BUILDER_SCREEN.path,children:(0,d.jsxs)(d.Fragment,{children:[s.isLoading?(0,d.jsx)(u.HE,{isOpen:s.isLoading,message:s.message}):null,(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)(u.HE,{isOpen:!0}),children:(0,d.jsx)(_,{})})]})}),(0,d.jsx)(o.Route,{path:l.bw.MAIN.MODEL_BUILD.child.SELECT_SCREEN.path,children:(0,d.jsx)(n.Suspense,{fallback:(0,d.jsx)(u.HE,{isOpen:!0}),children:(0,d.jsx)(p,{})})}),(0,d.jsx)(o.Route,{children:t?(0,d.jsx)(o.Redirect,{from:l.bw.MAIN.MODEL_BUILD.path,to:{pathname:(0,o.generatePath)(l.bw.MAIN.MODEL_BUILD.child.BUILDER_SCREEN.path,{projectUUID:a,pipelineUUID:t})}}):(0,d.jsx)(o.Redirect,{from:l.bw.MAIN.MODEL_BUILD.path,to:{pathname:(0,o.generatePath)(l.bw.MAIN.MODEL_BUILD.child.SELECT_SCREEN.path,{projectUUID:a})}})})]})})},c={setLoadingPipelineSteps:a.gQ},h=(0,i.Ng)((e=>{var t,s;return{selectedPipeline:(null===(t=e.pipelines)||void 0===t?void 0:t.selectedPipeline)||"",loadingPipelineSteps:null===(s=e.containerBuildModel)||void 0===s?void 0:s.loadingPipelineSteps}}),c)(m)},62482:(e,t,s)=>{s.d(t,{G:()=>n});var i=s(53536),a=s.n(i);const n=e=>t=>{var s;const i=(null===(s=t.captureConfigurations)||void 0===s?void 0:s.data)||[];let n;if(a().isArray(i)&&i.length>0){let t={};var o,r;if(e)t=(null===(o=i.find((t=>t.uuid===e)))||void 0===o?void 0:o.configuration)||{};else t=(null===(r=i[0])||void 0===r?void 0:r.configuration)||{};if(!a().isEmpty(t)){const{capture_sources:e}=t;a().isArray(e)&&a().forEach(e,(e=>{n=e.sample_rate}))}}return n}},35026:(e,t,s)=>{s.d(t,{ug:()=>ee,$G:()=>X,FL:()=>j,RN:()=>W,cg:()=>ie,z2:()=>se,i7:()=>te,lK:()=>K,gQ:()=>H,xe:()=>J,dZ:()=>Z,F5:()=>ae,TE:()=>Q});var i=s(53536),a=s.n(i),n=s(33086),o=s(3664),r=s(34815),l=s(41917),u=s(27802),d=s(28704),p=s(20433),_=s(50440),m=s(4574),c=s(50719),h=s(61236);const v=[{name:"Pipeline Settings",type:m._Y.AUTOML_PARAMS,subtypes:[],params:{disable_automl:!1,"prediction_target(%)":{f1_score:100},hardware_target:{classifiers_sram:32e3},selectorset:!0,set_selectorset:["Information Gain","t-Test Feature Selector","Univariate Selection","Tree-based Selection"],tvo:!0,set_training_algorithm:["Hierarchical Clustering with Neuron Optimization","RBF with Neuron Allocation Optimization","Random Forest","xGBoost","Train Fully Connected Neural Network"],iterations:2,allow_unknown:!1,population_size:40,single_model:!0,hierarchical_multi_model:!1}},{type:m._Y.QUERY,name:"Query",options:{is_should_be_reviewed:!1}},{type:m._Y.SEGMENTER,name:m._Y.SEGMENTER,transform:"Windowing",input_contracts:[],options:{is_should_be_reviewed:!0,message:"Windowing has been set as the default Segmenter. The default window size is set to 1 second of data for your project. Please review/update the parameters and then click the save button to confirm."}},{type:m._Y.FEATURE_GENERATOR,name:m._Y.FEATURE_GENERATOR,subtypes:["Statistical"],options:{is_should_be_reviewed:!0,message:"Feature Generators are used to extract information from the input sensor data. In this form you will be able to specify the types of feature generators you would like to use along with the inputs into the feature generators and any parameters the feature generators take. Some feature generators will produce a single value and some will produce multiple. Some can also take more than one sensor input. You can select up to 250 Feature generators as part of your pipeline. See our documentation for more information about the feature generators."},set:[],input_contracts:[]},{type:m._Y.FEATURE_SELECTOR,name:m._Y.FEATURE_SELECTOR,subtypes:[],set:["Correlation Threshold","Variance Threshold"],input_contracts:{"Correlation Threshold":{threshold:.95},"Variance Threshold":{threshold:.15}}},{type:m._Y.TRANSFORM,name:"Feature Quantization",transform:"Min Max Scale",input_contracts:[{feature_min_max_defaults:[-100,100]}]},{type:m._Y.CLASSIFIER,name:m._Y.CLASSIFIER,transform:"PME",input_contracts:[]},{type:m._Y.TRAINING_ALGORITHM,name:m._Y.TRAINING_ALGORITHM,transform:"RBF with Neuron Allocation Optimization",input_contracts:[]},{type:m._Y.VALIDATION,name:m._Y.VALIDATION,transform:"Stratified Shuffle Split",input_contracts:[]}],f={Bonsai:"Bonsai Tree Optimizer",PME:"RBF with Neuron Allocation Optimization","Decision Tree Ensemble":"Random Forest","Boosted Tree Ensemble":"xGBoost","TensorFlow Lite for Microcontrollers":"Train Fully Connected Neural Network"};const S=class{constructor(e,t,s){this.state=e,this.pipelineSteps=[],this.queryName=s,this.isAfterSegmenter=!1,this.isAddFeatureTransform=!1,this.isAddSensorTransform=!1,this.isAutoMLOptimization=null===t||void 0===t?void 0:t.isAutoMLOptimization,this.selectedClassifier=null===t||void 0===t?void 0:t.selectedClassifier,this.isUseSessionPreprocessor=null===t||void 0===t?void 0:t.isUseSessionPreprocessor,this.prevTransform="",this.reviewedStepsParams=["Name: Windowing","Type: Segmenter","Parameters: Window Size, Delta"]}__getDefaultFeatureValues(e,t,s){if(e.input_contracts[t]&&e.input_contracts[t][s]){return e.input_contracts[t][s]}return[]}__setPipelineStep(e,t,s,i){this.pipelineSteps.push({name:e,customName:t,data:s,options:i})}__populateQuery(e){var t,s,i,n;const o=new c.bb({state:this.state,type:e.type}).getInputsData();let r={},l="";null!==o&&void 0!==o&&o.length&&(r=o.reduce(((e,t)=>{var s;return"use_session_preprocessor"===t.name&&(e[t.name]=a().isUndefined(this.isUseSessionPreprocessor)?t.default:this.isUseSessionPreprocessor),t.default?e[t.name]=t.default:null!==t&&void 0!==t&&null!==(s=t.options)&&void 0!==s&&s.length&&(l=this.queryName||t.options[0].value,e[t.name]=this.queryName||t.options[0].value),e}),{})),this.queryName=this.queryName||l;const u=null===(t=this.state)||void 0===t||null===(s=t.queries)||void 0===s||null===(i=s.queryList)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.find((e=>e.name===this.queryName));if(u){const e=(0,_.W8)(u.segmenter_id)(this.state)||{};this.isUseSessionPreprocessor&&e.parameters&&(this.reviewedStepsParams=[])}this.__setPipelineStep(e.name,l,r,e.options)}__populateTransform(e){const t=m.v5.includes(e.type)?c.Iy:c.vr;let s=e.transform;e.type===m._Y.CLASSIFIER&&(s=this.selectedClassifier||e.transform,this.selectedClassifier=s),[m._Y.TRAINING_ALGORITHM].includes(e.type)&&(s=f[this.selectedClassifier]||e.transform);const i=new t({state:this.state,type:e.type,isAfterSegment:this.isAfterSegmenter,isAddFeatureTransform:this.isAddFeatureTransform,isAddSensorTransform:this.isAddSensorTransform,queryName:this.queryName}).getInputsData({exactTransform:s,prevTransform:this.prevTransform}),a=null===i||void 0===i?void 0:i.options.find((e=>e.name===s));this.prevTransform=null===a||void 0===a?void 0:a.name;let n="",o={};a&&null!==i&&void 0!==i&&i.fieldset&&(n=null===a||void 0===a?void 0:a.name,o=null===i||void 0===i?void 0:i.fieldset.filter((e=>e.parent===a.name)).reduce(((e,t)=>(e[t.name]=t.default,e)),{})),this.__setPipelineStep(e.name,n,{...o,transform:null===a||void 0===a?void 0:a.name},e.options),e.type===m._Y.SEGMENTER&&(this.isAfterSegmenter=!0),e.name===m.B2.FEATURE_TRANSFORM&&(this.isAddFeatureTransform=!0),e.name===m.B2.SENSOR_TRANSFORM&&(this.isAddSensorTransform=!0)}__populateFeatureGenerator(e){const t=new c.cv({state:this.state,type:e.type,isAfterSegment:this.isAfterSegmenter,isAddFeatureTransform:this.isAddFeatureTransform,isAddSensorTransform:this.isAddSensorTransform,queryName:this.queryName}).getInputsData({}).featureList.filter((t=>e.subtypes.includes(t.subtype))).map((e=>{var t;let s={};return null!==e&&void 0!==e&&null!==(t=e.inputContract)&&void 0!==t&&t.length&&(s=null===e||void 0===e?void 0:e.inputContract.reduce(((e,t)=>(e[t.name]=t.default,e)),{})),{...e,params:s}})),s=(0,h.A)(t).map((e=>({name:e.name,params:e.params})));this.__setPipelineStep(e.name,e.name,s,e.options)}__populateFeatureSelector(e){const t=new c.W1({state:this.state,type:e.type,isAfterSegment:this.isAfterSegmenter,isAddFeatureTransform:this.isAddFeatureTransform,isAddSensorTransform:this.isAddSensorTransform,queryName:this.queryName}).getInputsData({}).featureList.filter((t=>e.set.includes(t.name))).map((t=>{var s;let i={};return null!==t&&void 0!==t&&null!==(s=t.inputContract)&&void 0!==s&&s.length&&(i=null===t||void 0===t?void 0:t.inputContract.reduce(((s,i)=>{const a=this.__getDefaultFeatureValues(e,t.name,i.name);return s[i.name]=void 0!==a?a:i.default,s}),{})),{name:t.name,params:i}}));this.__setPipelineStep(e.name,e.name,t,e.options)}__populateAutoMLParams(e){return{...e.params,disable_automl:(e=>a().isUndefined(this.isAutoMLOptimization)?e:!this.isAutoMLOptimization)(e.params.disable_automl)}}__populateStepData(e){switch(e.type){case m._Y.QUERY:this.__populateQuery(e);break;case m._Y.FEATURE_GENERATOR:this.__populateFeatureGenerator(e);break;case m._Y.FEATURE_SELECTOR:this.__populateFeatureSelector(e);break;case m._Y.AUTOML_PARAMS:break;default:this.__populateTransform(e)}}getPipelineStepData(){return v.forEach((e=>{this.__populateStepData(e)})),this.pipelineSteps}getPipelineTVOStepData(){return v.filter((e=>m.v5.includes(e.type))).forEach((e=>{this.__populateStepData(e)})),this.pipelineSteps}getQueryStepData(){const e=v.find((e=>e.type===m._Y.QUERY));return this.__populateQuery(e)}getAutoMLStep(){const e=v[0];return{name:e.name,customName:e.name,options:e.options,data:this.__populateAutoMLParams(e)}}};var g=s(28361);const E=class{constructor(e,t){const{pipeline:s,...i}=t;this.state=e,this.pipelineData=i,this.pipelineList=s,this.decomposedSteps=[],this.queryFromInputData=null,this.metadataFromInputData=null,this.tvoCount=0}__getRule(e){return this.state.autoML.pipelineHierarchyRules.data.find((t=>t.name===e))}__getStep(e,t,s){return this.state.autoML.pipelineHierarchyRules.data.find((i=>{var a,n,o;return(null===i||void 0===i||!i.excludeTransform||!i.excludeTransform.includes(s))&&(!((null===i||void 0===i?void 0:i.type)!==e||null===i||void 0===i||null===(a=i.subtype)||void 0===a||!a.includes(t))||(!((null===i||void 0===i?void 0:i.type)!==e||null!==i&&void 0!==i&&null!==(n=i.subtype)&&void 0!==n&&n.length)||!(null===i||void 0===i||null===(o=i.transformList)||void 0===o||!o.includes(s))))}))}__getTransform(e){var t,s;return((null===(t=this.state)||void 0===t||null===(s=t.transforms)||void 0===s?void 0:s.data)||[]).find((t=>t.name===e))||{}}__setPipelineStep(e,t,s,i){const a=this.decomposedSteps.filter((t=>t.name===e)),n=this.decomposedSteps.findIndex((s=>{var a;return s.name===e&&s.customName===t&&(!(null===i||void 0===i||!i.isSession)&&!(null!==(a=s.options)&&void 0!==a&&a.isSession))})),o=this.__getRule(e);let r=null;o&&(r=o.limit||null),null!==a&&void 0!==a&&a.length?(null===r||r>((null===a||void 0===a?void 0:a.length)||0))&&(-1!==n?this.decomposedSteps[n]={name:e,customName:t,data:s,options:i}:this.decomposedSteps.push({name:e,customName:t,data:s,options:i})):this.decomposedSteps.push({name:e,customName:t,data:s,options:i})}__parseFeatureGeneratorStepData(e){const{set:t}=e,s=[];null!==t&&void 0!==t&&t.length&&t.forEach((e=>{s.push({name:e.function_name,params:{...e.inputs}})})),null!==s&&void 0!==s&&s.length&&this.__setPipelineStep(m._Y.FEATURE_GENERATOR,m._Y.FEATURE_GENERATOR,s)}__parseFeatureSelectorStepData(e){const{set:t}=e,s=[];null!==t&&void 0!==t&&t.length&&t.forEach((e=>{const{inputs:t={}}=e;s.push({name:e.function_name,params:{...t}})})),null!==s&&void 0!==s&&s.length&&this.__setPipelineStep(m._Y.FEATURE_SELECTOR,m._Y.FEATURE_SELECTOR,s)}__parseAugmentationStepData(e){const{set:t}=e,s=[],i=[];null!==t&&void 0!==t&&t.length&&t.forEach((e=>{const{inputs:t={}}=e;i.push(e.function_name),s.push({name:e.function_name,params:{...t}})})),null!==s&&void 0!==s&&s.length&&this.__setPipelineStep(m._Y.AUGMENTATION,a().join(i,", "),s)}__parseTransformStepData(e){const t=this.__getTransform(null===e||void 0===e?void 0:e.name),s=a().entries(e.inputs).reduce(((e,t)=>{let[s,i]=t;return e[s]="feature_min_max_defaults"===s?a().values(i):i,e}),{});if(t){const{type:i,subtype:a,name:n}=t,o=this.__getStep(i,a,n);null!==o&&void 0!==o&&o.name&&this.__setPipelineStep(o.name,n,{...s,transform:n},{...e.options})}}__parseTVOStepData(e){var t,s,i;null!==e&&void 0!==e&&null!==(t=e.classifiers)&&void 0!==t&&t.length&&(this.tvoCount+=1,e.classifiers.forEach((e=>{this.__parseTransformStepData(e)}))),null!==e&&void 0!==e&&null!==(s=e.optimizers)&&void 0!==s&&s.length&&(this.tvoCount+=1,e.optimizers.forEach((e=>{this.__parseTransformStepData(e)}))),null!==e&&void 0!==e&&null!==(i=e.validation_methods)&&void 0!==i&&i.length&&(this.tvoCount+=1,e.validation_methods.forEach((e=>{this.__parseTransformStepData(e)})))}__parseFeatureFileStepData(e){this.queryFromInputData={uuid:"1",isExtractedFromInputData:!0,name:e.name,label_column:e.label_column,columns:e.data_columns,metadata_columns:e.group_columns},this.metadataFromInputData={id:"1",label_values:[],metadata:!1},this.__setPipelineStep(m._Y.INPUT_DATA,e.name,{name:e.name,label_column:e.label_column,data_columns:e.data_columns,group_columns:e.group_columns})}__parseQueryStepData(e){var t,s;const i=a().reduce(null===(t=this.state.queries)||void 0===t||null===(s=t.queryList)||void 0===s?void 0:s.data,((t,s)=>(s.name===e.name&&(t={uuid:s.uuid,name:s.name,label_column:s.label_column,columns:s.columns,metadata_columns:s.metadata_columns,session:(0,_.f_)(s.segmenter_id)(this.state),cacheStatus:s.task_status}),t)),{});this.__setPipelineStep(m._Y.QUERY,e.name,{name:e.name,use_session_preprocessor:e.use_session_preprocessor},{descriptionParameters:i})}__parsePipelineItem(e){(null===e||void 0===e?void 0:e.type)===g.F.QUERY?this.__parseQueryStepData(e):(null===e||void 0===e?void 0:e.type)===g.F.FEATURE_FILE?this.__parseFeatureFileStepData(e):(null===e||void 0===e?void 0:e.type)===g.F.TRANSFORM?this.__parseTransformStepData(e):(null===e||void 0===e?void 0:e.type)===g.F.AUGMENTATION_SET?this.__parseAugmentationStepData(e):(null===e||void 0===e?void 0:e.type)===g.F.SEGMENTER||(null===e||void 0===e?void 0:e.type)===g.F.SAMPLER?this.__parseTransformStepData(e):(null===e||void 0===e?void 0:e.type)===g.F.GENERATOR_SET?this.__parseFeatureGeneratorStepData(e):(null===e||void 0===e?void 0:e.type)===g.F.SELECTOR_SET?this.__parseFeatureSelectorStepData(e):(null===e||void 0===e?void 0:e.type)===g.F.TVO?this.__parseTVOStepData(e):this.__parseTransformStepData(e)}__getSessionObj(e){try{return JSON.parse(e)}catch(t){return{}}}__extractSessionData(){var e,t,s,i;const a=this.decomposedSteps.find((e=>(null===e||void 0===e?void 0:e.name)===m._Y.QUERY)),n=null===(e=this.state)||void 0===e||null===(t=e.queries)||void 0===t||null===(s=t.queryList)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.find((e=>{var t;return e.name===(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.name)}));if(n){const e=(0,_.W8)(n.segmenter_id)(this.state)||{};if(e.parameters){const t=this.__getSessionObj(e.parameters);this.__parsePipelineItem({...t,options:{isSession:!0,isSessionSegmenter:!0}})}if(e.preprocess){var o;const t=this.__getSessionObj(e.preprocess);null!==(o=Object.keys(t))&&void 0!==o&&o.length?Object.values(t).forEach(((e,t)=>{null!==e&&void 0!==e&&e.params&&this.__parsePipelineItem({...e.params,options:{isSession:!0,isSessionPreprocess:!0,uniqueName:"preprocessor_".concat(t)}})})):null!==t&&void 0!==t&&t.params&&this.__parsePipelineItem({...null===t||void 0===t?void 0:t.params,options:{isSession:!0,isSessionPreprocess:!0,uniqueName:"preprocessor_0"}})}}}__extractAutoMLParams(){var e,t;const s=(null===this||void 0===this||null===(e=this.pipelineData)||void 0===e||null===(t=e.hyper_params)||void 0===t?void 0:t.params)||{};return Object.entries(s).reduce(((e,t)=>{let[s,i]=t;return"search_steps"===s&&a().isArray(i)?(a().assign(e,{selectorset:!1,tvo:!1}),i.forEach((t=>{e[t]=!0}))):e[s]=i,e}),{})}__parsePipelineList(){return this.pipelineList.forEach((e=>{this.__parsePipelineItem(e)})),this.decomposedSteps}get isNeededToAddTVO(){return this.tvoCount<3}getPipelineStepData(){var e;return null!==(e=this.pipelineList)&&void 0!==e&&e.length?this.__parsePipelineList():[]}getSessionStepData(e){return this.__parseQueryStepData({name:e}),this.__extractSessionData(),this.decomposedSteps.filter((t=>t.customName!==e))}getAutoMLStepData(){return this.__extractAutoMLParams()}getAutoMLStep(){return{...m.mB,data:this.__extractAutoMLParams(),options:{}}}};var T=s(553);Object.assign(E.prototype,T.A);const A=class extends E{constructor(e,t,s){var o;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t),o=this,this.__getParamsWithReplacement=(e,t)=>{let s;return this.isAdditionalyLookup(e)?this.isAdditionalyDefaultLookup(e)||a().isEmpty(this.replacedColumns)&&this.isQueryColumnsLookup(e)?t:(a().isArray(t)&&this.isQueryColumnsLookup(e)?s=t.reduce(((e,t)=>(this.replacedColumns[t]?e.push(this.replacedColumns[t]):t.includes("ST")&&e.push(t),e)),[]):this.replacedColumns[t]&&this.isQueryColumnsLookup(e)&&(s=this.replacedColumns[t]),s):t},this.__getDefaultLookupValue=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.isAdditionalyLookup(e)||o.isAdditionalyDefaultLookup(e)){const t=o.getDynamicDefaultValue(e);if(!a().isUndefined(t))return t;const n=o.getDynamicOptions(e,o.isAddSegmentId,o.isAddFeatureTransform)||[];if("list"===s.type)return n.map((e=>e.value));if("dict"===s.type)return{"":n.map((e=>e.value))};var i;if(!a().isEmpty(n))return null===(i=n[0])||void 0===i?void 0:i.value}return t},this.__getUpdatedOptions=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if((0,i.isArray)(r.reviewed_steps_params)&&!a().isEmpty(r.reviewed_steps_params)&&(o.reviewedStepsParams=a().union(o.reviewedStepsParams,r.reviewed_steps_params)),o.isMetadataLabels(t)||o.isAdditionalyDefaultLookup(t)&&s){const s=t.split("_").map((e=>a().capitalize(e))).join(" ");return o.reviewedStepsParams=a().union(o.reviewedStepsParams,["Step: ".concat(e),"Parameter: ".concat(s)]),{...r,is_should_be_reviewed:!0,message:n.A.t("pipelines:form-import.alert-waring-select-metadata-params",{paramNameLabel:s})}}return r},this.state=e,this.pipelineSteps=[],this.queryName=s,this.name="",this.reviewedStepsParams=[],this.isAutoMLOptimization=null===r||void 0===r?void 0:r.isAutoMLOptimization,this.selectedClassifier=null===r||void 0===r?void 0:r.selectedClassifier,this.replacedColumns=(null===r||void 0===r?void 0:r.replacedColumns)||{},this.isUseSessionPreprocessor=!!a().isUndefined(r.isUseSessionPreprocessor)||r.isUseSessionPreprocessor,this.prevTransform="",this.isAddSegmentId=!1,this.isAddFeatureTransform=!1}__setTransformStep(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{input_contract:n=[]}=this.__getTransform(t)||{};let o={...i};const r=a().entries(s).reduce(((e,s)=>{let[i,a]=s;const r=n.find((e=>e.name===i));let l=!1;return(r||["is_use_feature_min_max_defaults"].includes(i)||"transform"===i)&&(e[i]=this.__getParamsWithReplacement(i,a),e[i]||(l=!0,e[i]=this.__getDefaultLookupValue(i,a,r)),o=this.__getUpdatedOptions(t,i,l,o)),e}),{});super.__setPipelineStep(e,t,r,o)}__setFeatureFunctions(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;const n=a().reduce(s,((t,s)=>{const{input_contract:i=[]}=this.__getTransform(s.name)||{};let n=s.params||{},o=!1;return a().isEmpty(i)||(n=a().entries(n).reduce(((t,s)=>{let[n,r]=s;return i.find((e=>e.name===n))&&(t[n]=this.__getParamsWithReplacement(n,r)||this.__getDefaultLookupValue(e),this.isQueryColumnsLookup(n)&&a().isEmpty(t[n])&&(o=!0)),t}),{})),o||t.push({name:s.name,params:n}),t}),[]);super.__setPipelineStep(e,t,n,i)}__parseQueryStepData(){const e=this.decomposedSteps.findIndex((e=>e.name===m._Y.QUERY));if(-1!==e&&this.decomposedSteps[e])this.decomposedSteps[e].data={name:this.queryName,use_session_preprocessor:this.isUseSessionPreprocessor};else{if(!this.queryName){const e=(e=>{var t,s,i,n,o,r;return a().isArray(null===(t=e.queries)||void 0===t||null===(s=t.queryList)||void 0===s?void 0:s.data)&&!a().isEmpty(null===(i=e.queries)||void 0===i||null===(n=i.queryList)||void 0===n?void 0:n.data)?null===(o=e.queries)||void 0===o||null===(r=o.queryList)||void 0===r?void 0:r.data[0]:{}})(this.state);this.queryName=e.name}super.__parseQueryStepData({name:this.queryName,use_session_preprocessor:this.isUseSessionPreprocessor})}}__setPipelineStep(e,t,s,i){e===m._Y.SEGMENTER&&(this.isAddSegmentId=!0),e===m.B2.FEATURE_TRANSFORM&&(this.isAddFeatureTransform=!0),m._Y.FEATURE_GENERATOR===e||m._Y.FEATURE_SELECTOR===e?this.__setFeatureFunctions(e,t,s,i):m.uo===e||m._Y.QUERY===e?super.__setPipelineStep(e,t,s,i):this.__setTransformStep(e,t,s,i)}getPipelineStepData(){var e;return null!==(e=this.pipelineList)&&void 0!==e&&e.length?(this.__parseQueryStepData(),super.__parsePipelineList(),this.decomposedSteps):[]}getAutoMLStep(){return super.getAutoMLStep()}};var y=s(97127),I=s(94648),N=s(90014);const R="query",L="featurefile",O="transform",F="augmentationset",M="sampler",D="generatorset",P="selectorset",C="tvo",b="segmenter",U={[m._Y.SEGMENTER]:b,[m._Y.TRANSFORM]:O,[m._Y.SAMPLER]:M},Y={"Feature Selector":"selector_set","Feature Generator":"generator_set",Augmentation:"augmentation_set"},w={generatorset:"generator_set",selectorset:"selector_set",augmentationset:"augmentation_set"},G="temp.raw";const x=class{constructor(e,t,s,i,n){this.TRANSFORM_PARSER=[...m.Yh],this.TVO_PARSER=[...m.v5],this.labelColumn=(null===s||void 0===s?void 0:s.label_column)||"",this.groupColumns=a().union((null===s||void 0===s?void 0:s.metadata_columns)||[],[this.labelColumn]),this.featureTransformColumns=i||[],this.segmentColumns=n||[],this.pipelineSteps=[...e],this.pipelineList=[],this.autoMLSeed={seed:"Custom",params:{reset:!0}},this.isAutoML=t,this.tempIndexes={}}__rebuildGroupColumnsWithSegmenter(){this.groupColumns=a().union(this.groupColumns,this.segmentColumns)}__rebuildGroupColumnsWithFeatureTransform(){this.groupColumns=a().union(this.groupColumns,this.featureTransformColumns)}__getStepName(e){return Y[e]||e}__getTempIndex(e,t){return a().isUndefined(this.tempIndexes["".concat(e,"_").concat(t)])?this.tempIndexes["".concat(e,"_").concat(t)]=0:this.tempIndexes["".concat(e,"_").concat(t)]+=1,this.tempIndexes["".concat(e,"_").concat(t)]}__getTemp(e,t){let{isFeatureOn:s}=t;if(e){const t=e.split(" ").join("_"),i=s?"temp.features":"temp",a=this.__getTempIndex(t,i);return"".concat(i,".").concat(t).concat(a)}return G}__getOutputs(e,t){const s=[this.__getTemp(e,{isFeatureOn:!1})];return t&&s.push(this.__getTemp(e,{isFeatureOn:t})),s}__getInputData(e){const{outputs:t}=e;return t?Array.isArray(t)&&null!==t&&void 0!==t&&t.length?t[0]:t:G}__getFeatureTable(e){const{outputs:t}=e;return t?Array.isArray(t)&&(null===t||void 0===t?void 0:t.length)>1?t[1]:t:G}__getGroupColumnsWithSegmenter(){return a().union(this.groupColumns,this.segmentColumns)}__parseQueryStep(e){var t;this.pipelineList.push({name:e.customName,use_session_preprocessor:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.use_session_preprocessor,type:R,outputs:[G]})}__parseInputDataStep(e){this.pipelineList.push({name:e.customName,type:L,outputs:[G],...e.data})}__parsePipelineData(e){const t=["passthrough_columns","group_columns"];return a().entries(e).filter((e=>{let[t,s]=e;return!a().includes(t,"is_use")})).reduce(((s,i)=>{let[a,n]=i;return!1===e[N.A.getIsUseParamName(a)]?(s[a]=void 0,s):(t.includes(a)?s[a]=this.groupColumns:s[a]="feature_min_max_defaults"===a?2===(null===n||void 0===n?void 0:n.length)?{minimum:n[0],maximum:n[1]}:null:n,s)}),{})}__parseTransformDataStep(e,t,s){const{transform:i,input_data:a,...n}=(null===e||void 0===e?void 0:e.data)||{},o={name:e.customName,type:U[e.type]||O,outputs:this.__getOutputs(w[e.customName]||e.customName,s),inputs:{...this.__parsePipelineData(n),input_data:this.__getInputData(t)}};s&&this.__getFeatureTable(t)!==G&&(o.feature_table=this.__getFeatureTable(t)),this.pipelineList.push(o)}__parseFeatureGeneratorDataStep(e,t,s){const i=(null===e||void 0===e?void 0:e.data)||[];this.pipelineList.push({name:this.__getStepName(e.customName),type:D,outputs:this.__getOutputs(w[D],s),inputs:{input_data:this.__getInputData(t),group_columns:this.groupColumns||[]},set:i.filter((e=>!1!==e.isSelected)).map((e=>({function_name:e.name,inputs:{...e.params}})))})}__parseFeatureSelectorDataStep(e,t,s){var i;this.pipelineList.push({name:this.__getStepName(e.customName),type:P,outputs:this.__getOutputs(w[P],s),refinement:{},inputs:{number_of_features:10,remove_columns:[],cost_function:"sum",label_column:this.labelColumn||"",passthrough_columns:this.groupColumns||[],feature_table:this.__getFeatureTable(t),input_data:this.__getInputData(t)},set:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.map((e=>({function_name:e.name,inputs:{...e.params}})))})}__parseAugmentationDataStep(e,t,s){var i;this.pipelineList.push({name:this.__getStepName(e.name),type:F,label_column:this.labelColumn||"",outputs:this.__getOutputs(w[F],s),inputs:{label_column:this.labelColumn||"",group_columns:this.__getGroupColumnsWithSegmenter()||[],passthrough_columns:this.__getGroupColumnsWithSegmenter()||[],input_data:this.__getInputData(t)},set:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.map((e=>({function_name:e.name,inputs:{...e.params}})))})}__parseTVODataStep(e,t,s){const i=e=>{if(null!==e&&void 0!==e&&e.length)return e.map((e=>{const{transform:t,...s}=e;return{name:t,inputs:s}}));if(e){const{transform:t,...s}=e;return[{name:t,inputs:s}]}return[]};let a=this.pipelineList.findIndex((e=>e.type===C));a<0&&(this.pipelineList.push({name:C,type:C,outputs:this.__getOutputs(C,s),feature_table:this.__getFeatureTable(t),validation_seed:0,label_column:this.labelColumn||"",ignore_columns:this.groupColumns.filter((e=>e!==this.labelColumn))||[],input_data:this.__getInputData(t),validation_methods:[],classifiers:[],optimizers:[]}),a=this.pipelineList.findIndex((e=>e.type===C))),e.type===m._Y.CLASSIFIER&&(this.pipelineList[a].classifiers=i(e.data)),e.type===m._Y.TRAINING_ALGORITHM&&(this.pipelineList[a].optimizers=i(e.data)),e.type===m._Y.VALIDATION&&(this.pipelineList[a].validation_methods=i(e.data))}__parseAutoMLParamsDataStep(e){const{data:t}=e||{};if(t){const{tvo:e,selectorset:s,set_training_algorithm:i,set_selectorset:a,...n}=t;let o,r;null!==i&&void 0!==i&&i.length&&(o=i.reduce(((e,t)=>(e[t]={},e)),{})),null!==a&&void 0!==a&&a.length&&(r=a.reduce(((e,t)=>(e[t]={},e)),{}));const l=[];e&&l.push(m.H5.TVO_PARAM),s&&l.push(m.H5.SELECTOR_SET_PARAM),o&&Object.assign(this.autoMLSeed.params,{set_training_algorithm:o}),r&&Object.assign(this.autoMLSeed.params,{set_selectorset:r}),Object.assign(this.autoMLSeed.params,{...n,search_steps:[...l]})}}__parsePipelineSteps(){let e={},t=!1;return this.pipelineSteps.forEach((s=>{if((null===s||void 0===s?void 0:s.type)===m._Y.QUERY)this.__parseQueryStep(s);else if((null===s||void 0===s?void 0:s.type)===m._Y.INPUT_DATA)this.__parseInputDataStep(s);else if((null===s||void 0===s?void 0:s.type)===m._Y.AUGMENTATION)this.__parseAugmentationDataStep(s,e,t);else if((null===s||void 0===s?void 0:s.type)===m._Y.SEGMENTER){var i;null!==s&&void 0!==s&&null!==(i=s.options)&&void 0!==i&&i.isSessionSegmenter||this.__parseTransformDataStep(s,e,t),this.__rebuildGroupColumnsWithSegmenter()}else this.TRANSFORM_PARSER.includes(null===s||void 0===s?void 0:s.type)?(this.__parseTransformDataStep(s,e,t),(null===s||void 0===s?void 0:s.name)===m.B2.FEATURE_TRANSFORM&&this.__rebuildGroupColumnsWithFeatureTransform()):"Feature Quantization"===(null===s||void 0===s?void 0:s.name)?this.__parseTransformDataStep(s,e,t):(null===s||void 0===s?void 0:s.type)===m._Y.FEATURE_GENERATOR?(t=!0,this.__parseFeatureGeneratorDataStep(s,e,t)):(null===s||void 0===s?void 0:s.type)===m._Y.FEATURE_SELECTOR?(t=!0,this.__parseFeatureSelectorDataStep(s,e,t)):this.TVO_PARSER.includes(null===s||void 0===s?void 0:s.type)&&this.__parseTVODataStep(s,e,t,t);e=this.pipelineList[this.pipelineList.length-1]||{}})),this.pipelineList}getPipelineData(e){var t;return null!==(t=this.pipelineSteps)&&void 0!==t&&t.length?(this.__parsePipelineSteps(),this.__parseAutoMLParamsDataStep(e),{pipelineList:this.pipelineList,autoMLSeed:this.autoMLSeed}):[]}};var q=s(61689);const B=function(e){return async(t,s)=>{var i,a;const n=s(),o=null===(i=n.pipelines)||void 0===i?void 0:i.selectedPipeline,r=null===(a=n.autoML.pipelineHierarchyRules)||void 0===a?void 0:a.data;let l=[];return o&&null!==r&&void 0!==r&&r.length&&(l=e.map((e=>({...r.find((t=>t.name===e.name||t.type===e.name)),customName:e.customName,data:e.data,options:e.options||{},id:(0,q.LP)()}))),l=l.filter((t=>[m._Y.QUERY,m._Y.INPUT_DATA].includes(t.type)?null!==e&&void 0!==e&&e.length?Boolean(t.data):t.type===m._Y.QUERY:Boolean(t.data||t.mandatory)))),l}},k=[m._Y.INPUT_DATA,m._Y.QUERY],V=[m.B2.SENSOR_FILTER,m.B2.SENSOR_TRANSFORM,m.B2.AUGMENTATION],Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2?arguments[2]:void 0;return async(i,n)=>{var o,r,u;const d=n(),p=new E(d,{}).getSessionStepData(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.name),_=null===(r=d.autoML.pipelineHierarchyRules)||void 0===r?void 0:r.data;let c=a().isUndefined(s)?(0,l.q$)(d):s;const h=()=>{var t;return new S(d,(e=>{var t;const s=e.find((e=>e.type===m._Y.AUTOML_PARAMS)),i=e.find((e=>e.type===m._Y.CLASSIFIER));return{isAutoMLOptimization:!(null!==s&&void 0!==s&&null!==(t=s.data)&&void 0!==t&&t.disable_automl),selectedClassifier:(null===i||void 0===i?void 0:i.customName)||""}})(c),null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name).getPipelineStepData()},v=e=>({..._.find((t=>t.name===e.name||t.type===e.name)),customName:e.customName,data:e.data,options:e.options||{}}),f=(e,t)=>{const s=t.findIndex((t=>{var s,i,a,n;return!(e.name!==t.name&&e.name!==t.type||null!==e&&void 0!==e&&null!==(s=e.options)&&void 0!==s&&s.isSessionPreprocess)||!(null===t||void 0===t||null===(i=t.options)||void 0===i||!i.uniqueName||(null===t||void 0===t||null===(a=t.options)||void 0===a?void 0:a.uniqueName)!==(null===e||void 0===e||null===(n=e.options)||void 0===n?void 0:n.uniqueName))}));s>=0?c[s]=v(e):(e=>{let t=c.findIndex((t=>a().includes(null===t||void 0===t?void 0:t.nextSteps,e.name)));const s=e=>{var t;return!V.includes(null===e||void 0===e?void 0:e.name)||V.includes(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.isSessionPreprocess)};for(;c[t]&&t<c.length&&(i=c[t],a().includes(null===i||void 0===i?void 0:i.nextSteps,e.name)||a().includes(null===i||void 0===i?void 0:i.nextSteps,m.bH))&&s(c[t]);)t++;var i;c=c.reduce(((s,i,a)=>(t===a&&s.push(v(e)),s.push(i),s)),[])})(e)};if(null!==e&&void 0!==e&&null!==(u=e.options)&&void 0!==u&&u.isChangedColumns&&(c=await(async()=>{const e=c.filter((e=>{var t;return null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.is_should_be_reviewed})).map((e=>e.name)),s=h().map((t=>({...t,options:{is_should_be_reviewed:e.includes(t.name)}})));return await i(B(s,t))})()),c=(e=>{const t=c.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.options)&&void 0!==t&&t.isSession)})),s=h();return _.filter((e=>e.mandatory&&!k.includes(e.type)&&!t.find((t=>t.name===e.name)))).forEach((t=>{const i=s.find((e=>e.name===t.name));f({...t,...i},e)})),c.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.options)&&void 0!==t&&t.isSession)}))})([...c]),a().isEmpty(p)||!(()=>{var t,s;return void 0===(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.use_session_preprocessor)||(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.use_session_preprocessor)})())return c;const g=p.map((e=>e.customName))||[];return c=c.filter((e=>!V.includes(e.name)||V.includes(e.name)&&!g.includes(e.customName))),p.forEach((e=>{f(e,[...c])})),c}},z=function(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{pipelineJson:i,queryName:n,...o}=s;if(i&&!a().isEmpty(i))return[new A(e,i,n,o),!1];const r=null===(t=e.pipelines.pipelineData)||void 0===t?void 0:t.data;return a().isEmpty(null===r||void 0===r?void 0:r.pipeline)?[new S(e,o,n),!1]:[new E(e,r),!1]},H=(e,t)=>({type:I.VH,payload:{isLoading:e,message:t}}),X=()=>({type:I.JL}),j=()=>({type:I.eC}),K=e=>({type:I.G,payload:e}),W=()=>e=>{e({type:I.$9}),e({type:I.IN})},$=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return async i=>{const a=o.M_.getState(),n=(0,l.n$)(a),[r,u]=(0,l.qD)(a),{pipelineList:d,autoMLSeed:p}=new x(t,s,n,r,u).getPipelineData();i({type:I.wp,payload:{[e]:{pipelineList:d,autoMLSeed:p}}})}},Z=(e,t,s)=>async i=>{var a;i({type:I.CQ,payload:""}),await i({type:I.tI,payload:{[e]:[...t]}});const n=o.M_.getState(),[r,u]=(0,l.qD)(n),p=(0,l.n$)(n),_=(0,y.nZ)(n),m=null===(a=n.projects)||void 0===a?void 0:a.selectedProject,{pipelineList:c,autoMLSeed:h}=new x(t,!0,p,r,u).getPipelineData(s);_&&await i((0,d.WH)({projectUuid:m.uuid,pipelineUuid:e,pipelineSteps:c,autoMLSeed:h,pipelineName:_.name,cacheEnabled:_.cache_enabled,deviceConfig:_.device_config})),i($(e,t,!0))},J=e=>async(t,s)=>{var i,o;const d=s(),p=null===(i=d.pipelines)||void 0===i?void 0:i.selectedPipeline;let _=(0,l.q$)(d),c=[];t(H(!0,"Loading pipeline ..."));const[h,v=!1]=z(d,e),f=h.getAutoMLStep();if(c=h.getPipelineStepData(),!a().isEmpty(h.reviewedStepsParams)){let e=n.A.t("models:model-builder.alert-review-created-pipeline-title"),s=n.A.t("models:model-builder.alert-review-created-pipeline-message");h instanceof A&&(e=n.A.t("models:model-builder.alert-review-imported-pipeline-title"),s=n.A.t("models:model-builder.alert-review-imported-pipeline-message")),t(((e,t)=>{let{type:s=r.Ol.INFO,title:i="",parameters:a}=t;return{type:I.Dy,payload:{message:e,type:s,parameters:a,title:i}}})(s,{title:e,parameters:h.reviewedStepsParams}))}if(h.queryFromInputData&&t((0,u.Qk)(h.queryFromInputData)),!a().isEmpty(c)&&h.isNeededToAddTVO){const t=c.filter((e=>!m.v5.includes(e.type))),s=new S(d,e).getPipelineTVOStepData();c=a().union(t,s)}if(p&&(null===(o=_)||void 0===o||!o.length)){_=await t(B(c));const s=_.find((e=>e.type===m._Y.QUERY));var g;if(s)_=await t(Q({customName:s.customName,data:{name:s.customName,use_session_preprocessor:a().isUndefined(null===e||void 0===e?void 0:e.isUseSessionPreprocessor)?null===s||void 0===s||null===(g=s.data)||void 0===g?void 0:g.use_session_preprocessor:null===e||void 0===e?void 0:e.isUseSessionPreprocessor}},!0,_))}if(v)try{await t(Z(p,_,f))}catch(E){t({type:I.CQ,payload:E.message})}else t({type:I.tI,payload:{[p]:[..._]}}),t($(p,_));return t(H(!1,"")),[_,f]},ee=(e,t)=>async s=>{const i=await s((0,d.B_)(e,t));return s((0,d.PX)(e,t)),i},te=(e,t)=>async s=>{s((0,d.PX)(e,t))},se=(e,t)=>async s=>{s((0,d.$q)(e,t)),s((0,d.PX)(e,t)),s((0,d.Bp)(e,t))},ie=(e,t,s)=>async i=>{var a;const{autoMLSeed:n}=new x(e).getPipelineData(t),l=o.M_.getState(),u=null===(a=l.projects)||void 0===a?void 0:a.selectedProject,_=(0,y.nZ)(l);await i((0,d.ac)()),await i((0,d.C4)()),await i((0,d.hL)()),await i((0,d._F)({status:r.f.INFO,message:"Optimizing Query...",isLauching:!0})),await i((0,p.N5)(u.uuid)),await i((0,d._F)({status:r.f.INFO,message:"Query is optimized...",isLauching:!0})),await i((0,d.Dh)(u.uuid,_.uuid,{run_parallel:!0,execution_type:s,auto_params:{seed:n.seed,params:{...n.params}}}))},ae=()=>async e=>{var t;const s=o.M_.getState(),i=null===(t=s.projects)||void 0===t?void 0:t.selectedProject,a=(0,y.nZ)(s);await e((0,d.B4)(null===i||void 0===i?void 0:i.uuid,null===a||void 0===a?void 0:a.uuid))}},90014:(e,t,s)=>{s.d(t,{A:()=>p});var i=s(53536),a=s.n(i),n=s(34815),o=s(41917),r=s(4574),l=s(97127),u=s(553);class d{constructor(){if(this.TYPES_WITH_OPTIONS=[n.XF.FORM_SELECT_TYPE,n.XF.FORM_MULTI_SELECT_TYPE],this.constructor===d)throw new TypeError("Can not construct abstract class.");if(this.getInputsData===d.prototype.getInputsData)throw new TypeError("Please implement abstract method getInputsData.");if(this.getOutputData===d.prototype.getInputsData)throw new TypeError("Please implement abstract method getOutputData.")}__setQuery(e){if(e)this.queryName=e;else{var t;const e=(0,l.gV)(this.state),a=null===(t=this.state.containerBuildModel)||void 0===t?void 0:t.pipelineStepData[e];var s,i;if(null!==a&&void 0!==a&&a.length)this.queryName=null===(s=a.find((e=>[r._Y.QUERY,r._Y.INPUT_DATA].includes(e.type))))||void 0===s||null===(i=s.data)||void 0===i?void 0:i.name}}__getSavedPipelineStepData(){var e;return a().isEmpty(this.selectedSteps)?(0,o.NV)(this.state,this.id):null===(e=this.selectedSteps.find((e=>e.id===this.id)))||void 0===e?void 0:e.data}getInputsData(){this.validateStaticMethod("getInputsData")}getOutputData(){this.validateStaticMethod("getOutputData")}__isInputContractHasUseParam(e){return this.isHasUseParam(null===e||void 0===e?void 0:e.name)}__isIgronedInputContract(e){return this.isIgrored(e.name)}__isFormHiddenInputContract(e){return this.isHiddenFormEl(e.name)||e.no_display}__getDefaultUseParam(e){return this.getDefaultUseParam(e.name)}__getInputContractRange(e){return null===e||void 0===e?void 0:e.range}__getInputContractDefaultValue(e,t,s){var i;if(this.isAdditionalyDefaultLookup(e.name)){const t=this.getDynamicDefaultValue(e.name);if(!a().isUndefined(t))return t}if(a().isArray(null===e||void 0===e?void 0:e.default)&&null!==e&&void 0!==e&&null!==(i=e.default)&&void 0!==i&&i.length)return null===e||void 0===e?void 0:e.default;if(!a().isArray(null===e||void 0===e?void 0:e.default)&&!a().isNull(null===e||void 0===e?void 0:e.default)&&!a().isUndefined(null===e||void 0===e?void 0:e.default))return null===e||void 0===e?void 0:e.default;if(t===n.XF.FORM_SELECT_TYPE&&null!==s&&void 0!==s&&s.length){const e=s[0]||{};return(null===e||void 0===e?void 0:e.value)||(null===e||void 0===e?void 0:e.name)||""}return t===n.XF.FORM_MULTI_SELECT_TYPE?a().map(s,(e=>null===e||void 0===e?void 0:e.value))||[]:n.Uh.includes(t)?(null===e||void 0===e?void 0:e.default)||0:null===e||void 0===e?void 0:e.default}__getIsAnySessionSteps(){const e=(0,o.q$)(this.state);var t;return!(null===e||void 0===e||!e.length)&&Boolean(null===(t=e.filter((e=>{var t;return null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.isSession})))||void 0===t?void 0:t.length)}__getIsSegmenterFromSession(){const e=(0,o.q$)(this.state);return!(null===e||void 0===e||!e.length)&&Boolean(-1!==e.indexOf((e=>{var t;return null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.isSessionSegmenter})))}__getIsAfterSegmenter(){const e=(0,o.q$)(this.state),t=e.findIndex((e=>e.id===this.id)),s=e.findIndex((e=>e.type===r._Y.SEGMENTER));return-1!==s&&t>s}__getIsAfterFeatureTransform(){const e=(0,o.q$)(this.state),t=e.findIndex((e=>e.id===this.id)),s=e.findIndex((e=>e.name===r.B2.FEATURE_TRANSFORM));return-1!==s&&t>s||this.isAddFeatureTransform}__getIsAfterSensorTransforms(){const e=(0,o.q$)(this.state),t=e.findIndex((e=>e.id===this.id)),s=e.findIndex((e=>e.name===r.B2.SENSOR_TRANSFORM));return-1!==s?t>s||this.isAddFeatureTransform:this.isAddSensorTransform}__getSensorTransformNames(){const e=(0,o.q$)(this.state),t=e.findIndex((e=>e.id===this.id));return e.filter(((e,s)=>e.name===r.B2.SENSOR_TRANSFORM&&t>s)).map((e=>e.customName))}__getIsAddSegmentId(){return this.__getIsAfterSegmenter()||this.isAfterSegment}__getInputContractOptions(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.options)&&void 0!==t&&t.length){const t=a().map(null===e||void 0===e?void 0:e.options,(e=>e.name&&e.value?{name:e.name,value:e.value}:!e.name&&e.value?{name:e.value,value:e.value}:e.name&&!e.value?{name:e.name,value:e.name}:{name:e,value:e}));return e.default&&"str"===e.type&&-1===t.findIndex((t=>t.value===e.default))?a().union(t,[{name:e.default,value:e.default}]):t}const s=this.getDynamicOptions(null===e||void 0===e?void 0:e.name,this.__getIsAddSegmentId(),this.__getIsAfterFeatureTransform(),this.__getSensorTransformNames());if(null!==s&&void 0!==s&&s.length)return s}__getInputContractLabel(e){return e.display_name||((null===e||void 0===e?void 0:e.name)||"").split("_").map((e=>a().capitalize(e))).join(" ")}__getInputContractDefaultStep(e){return[n.XF.FORM_INT_TYPE,n.XF.FORM_INT_16T_TYPE,n.XF.FORM_NUMERIC_TYPE].includes(null===e||void 0===e?void 0:e.type)?1:n.XF.FORM_FLOAT_TYPE===(null===e||void 0===e?void 0:e.type)?.1:1}__getInputContractTypeForm(e,t){return"dict"===e.type&&t?"".concat(e.type,"_").concat(e.element_type||"list"):"dict"===e.type?"".concat(e.type,"_editable_").concat(e.element_type||"list"):"list"!==e.type||t?e.range?"range_".concat(e.type):"str"===e.type&&null!==t&&void 0!==t&&t.length||"numeric"===e.type&&null!==t&&void 0!==t&&t.length||"str"===e.type&&this.isAdditionalyLookup(e.name)?"select":e.type:"editable_list_".concat(e.element_type||"str")}getCardParams(){return[]}get queryColumns(){return this.selectSelectedQueryColumns(this.state,this.queryName,this.__getSensorTransformNames())}static getIsUseParamName(e){return"is_use_".concat(e)}static validateStaticMethod(e){throw this===d?new TypeError("Can't call static abstract method ".concat(e)):new Error("method ".concat(e," must be implemented"))}}Object.assign(d.prototype,u.A);const p=d},50719:(e,t,s)=>{s.d(t,{cv:()=>E,W1:()=>T,bb:()=>p,vr:()=>h,Iy:()=>v,Ay:()=>N});var i=s(4574),a=s(53536),n=s.n(a),o=s(34815),r=s(41917),l=s(50440),u=s(90014);class d extends u.A{constructor(e){let{state:t,type:s,subtype:i,id:a,isAutoML:n}=e;super(),this.state=t,this.type=s,this.subtype=i,this.id=a,this.isAutoML=n}__getDefault(e,t){const s=this.getSavedInputsData(e);return void 0===s?t:s}getInputsData(){var e,t,s,i;return[{descriptionParameters:n().map(null===(e=this.state.queries)||void 0===e||null===(t=e.queryList)||void 0===t?void 0:t.data,(e=>({name:e.name,label_column:e.label_column,columns:e.columns,metadata_columns:e.metadata_columns,session:(0,l.f_)(e.segmenter_id)(this.state)})))},{options:n().map(null===(s=this.state.queries)||void 0===s||null===(i=s.queryList)||void 0===i?void 0:i.data,(e=>({name:e.name,value:e.name})))||[],name:"name",label:"Query",type:o.XF.FORM_SELECT_TYPE,default:this.getSavedInputsData("name")},{name:"use_session_preprocessor",label:"Use session preprocessor",type:o.XF.FORM_BOOLEAN_TYPE,isFormHidden:this.isAutoML,default:this.__getDefault("use_session_preprocessor",!0)}]}getSavedInputsData(e){return(0,r.NV)(this.state,this.id)[e]}getOutputData(){}}const p=d;var _=s(5e4);class m extends u.A{constructor(e){let{state:t,type:s,subtype:i,id:a,queryName:n,selectedSteps:o,isAfterSegment:r,isAddFeatureTransform:l,isAddSensorTransform:u}=e;super(),this.IGNORED_KEYS=[],this.state=t,this.type=s,this.subtype=i,this.id=a,this.selectedSteps=o,this.isAfterSegment=r||!1,this.isAddFeatureTransform=l||!1,this.isAddSensorTransform=u||!1,this.__setQuery(n)}__getInputContract(e){const t=[];return null!==e&&void 0!==e&&e.length?(e.forEach((e=>{e.input_contract.forEach((s=>{if(!this.__isIgronedInputContract(s)){const i=this.__getInputContractOptions(s),a=this.__getInputContractTypeForm(s,i),r=this.__getInputContractDefaultValue(s,a,i);let l=this.__isFormHiddenInputContract(s);if(Object.values(o.XF).includes(a)){if(!this.TYPES_WITH_OPTIONS.includes(a)||null!==i&&void 0!==i&&i.length||(l=!0),this.__isInputContractHasUseParam(s)){const i=this.getSavedInputsData(this.constructor.getIsUseParamName(s.name),s.name),a=this.getSavedInputsData(s.name,e.name),r={parent:e.name,name:this.constructor.getIsUseParamName(s.name),description:s.description,type:o.XF.FORM_BOOLEAN_TYPE,label:"Use ".concat(this.__getInputContractLabel(s)),default:n().isUndefined(i)?!n().isUndefined(a):i,isServiceField:!0};t.push(r)}t.push({parent:e.name,name:s.name,description:s.description,type:a,label:this.__getInputContractLabel(s),default:this.getSavedInputsData(s.name,e.name,r,l,i),range:this.__getInputContractRange(s),minElements:s.min_elements,maxElements:s.max_elements,defaultStep:this.__getInputContractDefaultStep(s),isFormHidden:l,options:i,...this.__isInputContractHasUseParam(s)&&{isUseName:this.constructor.getIsUseParamName(s.name)}})}}}))})),[...t]):[]}getSavedInputsData(e,t,s,i,a){if(i)return s;const o=this.__getSavedPipelineStepData();if(n().isArray(o)&&!n().isEmpty(o)){const s=o.find((e=>e.transform===t));return s?s[e]:null}if(o&&!n().isUndefined(o[e])){if(n().isArray(o[e])){const t=n().map(a,(e=>e.value));return n().isEmpty(t)?o[e]:o[e].filter((e=>t.includes(e)))}return o[e]}return s}}const c=m;const h=class extends c{constructor(){super(...arguments),this.INPUT_DATA_KEY="input_data",this.INPUT_FEATURE_PCA_COMPONENTS="feature_pca_components",this.INPUT_COEFICIENTS="coefficients",this.INPUT_MIN_BOUND_KEY="min_bound",this.INPUT_MAX_BOUND_KEY="max_bound",this.INPUT_SIGNAL_MIN_MAX_PARAMETERS="signal_min_max_parameters",this.INPUT_FEATURE_MIN_MAX_DEFAULTS="feature_min_max_defaults",this.INPUT_FEATURE_MIN_MAX_PARAMETERS="feature_min_max_parameters",this.IGNORED_KEYS=[this.INPUT_DATA_KEY,this.INPUT_FEATURE_PCA_COMPONENTS,this.INPUT_COEFICIENTS],this.HIDDEN_KEYS=[this.LABEL_COLUMN_KEY,this.COMBINE_LABELS,this.FEATERE_COLUMNS,this.METADATA_VALUES,this.COLUMNS],this.MIN_MAX_MERGED_KEYS=[this.INPUT_MIN_BOUND_KEY,this.INPUT_MAX_BOUND_KEY],this.FORM_RANGE_MIN_MAX_TYPE_KEYS=[this.INPUT_SIGNAL_MIN_MAX_PARAMETERS,this.INPUT_FEATURE_MIN_MAX_DEFAULTS],this.FORM_EMPTY_MIN_MAX_TYPE_KEYS=[this.INPUT_FEATURE_MIN_MAX_PARAMETERS]}__getInputContractDefaultValue(e,t,s){const i=super.__getInputContractDefaultValue(e,t,s);return this.FORM_RANGE_MIN_MAX_TYPE_KEYS.includes(null===e||void 0===e?void 0:e.name)?[-100,100]:this.FORM_EMPTY_MIN_MAX_TYPE_KEYS.includes(null===e||void 0===e?void 0:e.name)?{}:void 0!==i?i:void 0}__getInputContractRange(e){const t=super.__getInputContractRange(e);return t||(this.FORM_RANGE_MIN_MAX_TYPE_KEYS.includes(null===e||void 0===e?void 0:e.name)?[-2e5,2e5]:void 0)}__getInputContractTypeForm(e,t){const s=super.__getInputContractTypeForm(e,t);return this.FORM_RANGE_MIN_MAX_TYPE_KEYS.includes(null===e||void 0===e?void 0:e.name)?o.XF.FORM_RANGE_MIN_MAX_TYPE:s}__getInputContractDefaultStep(e){const t=super.__getInputContractDefaultStep(e);return t||(this.FORM_RANGE_MIN_MAX_TYPE_KEYS.includes(null===e||void 0===e?void 0:e.name)?10:void 0)}__getDefaultTransform(e){const t=this.getSavedInputsData("transform");return t||(1===(null===e||void 0===e?void 0:e.length)?e[0].name:"")}getInputsData(e){var t;let{transformList:s,excludeTransform:i,exactTransform:a}=e,n=(0,_.V)(this.type,this.subtype,s,i)(this.state);return a&&(n=n.filter((e=>e.name===a))),{name:"transform",type:o.XF.FORM_SELECT_TYPE,label:"".concat(null===(t=n[0])||void 0===t?void 0:t.type),default:this.__getDefaultTransform(n),options:n.map((e=>({uuid:e.uuid,name:e.name,description:e.description,value:e.name}))),fieldset:this.__getInputContract(n)}}getOutputData(){}};const v=class extends c{constructor(e){let{state:t,type:s,subtype:i,id:a,queryName:n,isAutoML:o}=e;super({state:t,type:s,subtype:i,id:a,queryName:n}),this.INPUT_DATA_KEY="input_data",this.INPUT_CLASSIFIERS="classifiers",this.INPUT_VALIDATION_METHODS="validation_methods",this.isAutoML=o}__isIgronedInputContract(e){return super.__isIgronedInputContract(e)||Boolean(null===e||void 0===e?void 0:e.handle_by_set)}__getInputContractFilterName(){return this.type===i._Y.TRAINING_ALGORITHM?this.INPUT_CLASSIFIERS:this.type===i._Y.VALIDATION?this.INPUT_VALIDATION_METHODS:this.INPUT_CLASSIFIERS}filterTranformsByClassifier(e,t){return e.filter((e=>!i.ks.includes(e.name))).filter((e=>{const{input_contract:s}=e;if(null!==s&&void 0!==s&&s.length){const e=s.find((e=>e.name===this.__getInputContractFilterName()));if(null!==e&&void 0!==e&&e.options)return Boolean(e.options.find((e=>(null===e||void 0===e?void 0:e.name)===t)))}return!1}))}filterTranformsByOptimizer(e,t){const{input_contract:s}=(0,_.h)(t)(this.state)||{};return e.filter((e=>{if(null!==s&&void 0!==s&&s.length){const t=s.find((e=>e.name===this.__getInputContractFilterName()));if(null!==t&&void 0!==t&&t.options)return Boolean(t.options.find((t=>(null===t||void 0===t?void 0:t.name)===e.name)))}return!1}))}getTransforms(e){let{transformList:t,excludeTransform:s,exactTransform:a,prevStepTransform:n}=e;const o=(0,_.V)(this.type,this.subtype,t,s)(this.state);return a?o.filter((e=>e.name===a)):this.type===i._Y.TRAINING_ALGORITHM?this.filterTranformsByClassifier(o,n)||[]:this.type===i._Y.VALIDATION?this.filterTranformsByOptimizer(o,n)||[]:o}getInputsData(e){var t;let{transformList:s,excludeTransform:i,exactTransform:a,prevTransform:n}=e,l=n;if(!l){var u;const e=(0,r.q$)(this.state),t=e.findIndex((e=>e.id===this.id)),s=e[t-1];l=(null===s||void 0===s||null===(u=s.data)||void 0===u?void 0:u.transform)||""}const d=this.getTransforms({transformList:s,excludeTransform:i,exactTransform:a,prevStepTransform:l});return{name:"transform",type:o.XF.FORM_SELECT_TYPE,label:"".concat(null===(t=d[0])||void 0===t?void 0:t.type),default:this.getSavedTransformOption("transform"),options:d.map((e=>({uuid:e.uuid,name:e.name,description:e.description,value:e.name}))),fieldset:this.__getInputContract(d)}}getSavedTransformOption(e){const t=(0,r.NV)(this.state,this.id);return null!==t&&void 0!==t&&t.length?this.isAutoML?t.map((e=>e.transform)):t[0].transform:t[e]}getOutputData(){}};var f=s(61689);class S extends u.A{constructor(e){let{state:t,type:s,subtype:i,queryName:a,id:n,selectedSteps:o,isAddFeatureTransform:r,isAddSensorTransform:l}=e;super(),this.IGNORED_KEYS=[],this.state=t,this.type=s,this.subtype=i,this.id=n,this.selectedSteps=o,this.isAddFeatureTransform=r||!1,this.isAddSensorTransform=l||!1,this.__setQuery(a)}__getSubTypes(e){const t=[];return e.forEach((e=>{t.includes(e.subtype)||t.push(e.subtype)})),t}__getTransformSet(e){return e.map((e=>{const[t,s]=this.__getInputContract(e);return{id:e.uuid,uuid:e.uuid,name:e.name,description:e.description,type:e.type,subtype:e.subtype,inputContract:t,numColumns:s}}))}__getInputContract(e){const t=[];let s=-1;return e.input_contract.forEach((i=>{if(!this.__isIgronedInputContract(i)){const a=this.__getInputContractOptions(i),n=this.__getInputContractTypeForm(i,a),r=this.__getInputContractDefaultValue(i,n,a);let l=this.__isFormHiddenInputContract(i);(null===i||void 0===i?void 0:i.num_columns)>0&&(s=null===i||void 0===i?void 0:i.num_columns),Object.values(o.XF).includes(n)&&(!this.TYPES_WITH_OPTIONS.includes(n)||null!==a&&void 0!==a&&a.length||(l=!0),t.push({parent:e.name,name:i.name,description:i.description,type:n,label:this.__getInputContractLabel(i),default:r,range:this.__getInputContractRange(i),minElements:i.min_elements,maxElements:i.max_elements,defaultStep:this.__getInputContractDefaultStep(i),isFormHidden:l,options:a}))}})),[[...t],s]}__getIsFeatureSelected(e){return void 0===e.isSelected||e.isSelected}getSavedFeatures(e,t){const s=this.__getSavedPipelineStepData(),i=[];return null!==s&&void 0!==s&&s.length&&s.forEach((s=>{const a=n().find(e,(e=>e.name===s.name)),o=this.__getIsFeatureSelected(s);!t.includes(null===a||void 0===a?void 0:a.subtype)&&o&&t.push(null===a||void 0===a?void 0:a.subtype),n().isEmpty(a)||i.push({...a,params:null===s||void 0===s?void 0:s.params,localId:(0,f.LP)(),isSelected:o})})),i}getSavedInputsData(e,t,s){if(this.savedData[e]){const{params:i}=this.savedData[e];return i&&void 0!==i[t]?i[t]:s}return s}getSavedData(){const e=(0,r.NV)(this.state,this.id);let t={};const s=[];return null!==e&&void 0!==e&&e.length&&(t=e.reduce(((e,t)=>(e[t.name]={...t},s.push(t.name),e)),{})),this.savedData=t,s}}const g=S;const E=class extends g{constructor(e){super(e),this.INPUT_DATA_KEY="input_data",this.PRE_SPRECIFIED_BINDS="pre_specified_bins",this.IGNORED_KEYS=[this.INPUT_DATA_KEY,this.PRE_SPRECIFIED_BINDS],this.MIN_MAX_MERGED_KEYS=[]}__isIgronedInputContract(e){return super.__isIgronedInputContract(e)||Boolean(null===e||void 0===e?void 0:e.handle_by_set)}getInputsData(e){let{transformList:t,excludeTransform:s}=e;const i=(0,_.V)(this.type,this.subtype,t,s)(this.state),a=[],n=this.__getTransformSet(i)||[],o=this.getSavedFeatures(n,a);return{subtypes:this.__getSubTypes(i)||[],featureList:n,defaultFeatureList:o,addedSubtypes:a}}getOutputData(){}};const T=class extends g{constructor(){super(...arguments),this.INPUT_DATA_KEY="input_data",this.PARENT_NAME_CORRELATION="Correlation Threshold",this.PARENT_NAME_VARIANCE="Variance Threshold",this.SELECT_FORM_TYPE=[],this.RANGE_FLOAT_TYPE=[this.PARENT_NAME_CORRELATION,this.PARENT_NAME_VARIANCE],this.IGNORED_KEYS=[],this.MIN_MAX_MERGED_KEYS=[]}__isIgronedInputContract(e){return super.__isIgronedInputContract(e)||Boolean(null===e||void 0===e?void 0:e.handle_by_set)}getInputsData(e){let{transformList:t,excludeTransform:s}=e;const i=(0,_.V)(this.type,this.subtype,t,s)(this.state),a=[],n=this.__getTransformSet(i)||[],o=this.getSavedFeatures(n,a)||[];return{subtypes:this.__getSubTypes(i)||[],featureList:n,defaultFeatureList:o,addedSubtypes:a}}getOutputData(){}};const A=class extends g{constructor(){super(...arguments),this.INPUT_DATA_KEY="input_data",this.PARENT_NAME_CORRELATION="Correlation Threshold",this.PARENT_NAME_VARIANCE="Variance Threshold",this.SELECT_FORM_TYPE=[],this.RANGE_FLOAT_TYPE=[this.PARENT_NAME_CORRELATION,this.PARENT_NAME_VARIANCE],this.IGNORED_KEYS=[],this.MIN_MAX_MERGED_KEYS=[]}__isIgronedInputContract(e){return super.__isIgronedInputContract(e)||Boolean(null===e||void 0===e?void 0:e.handle_by_set)}getInputsData(e){let{transformList:t,excludeTransform:s}=e;const i=(0,_.V)(this.type,this.subtype,t,s)(this.state),a=[],n=this.__getTransformSet(i)||[],o=this.getSavedFeatures(n,a)||[];return{subtypes:this.__getSubTypes(i)||[],featureList:n,defaultFeatureList:o,addedSubtypes:a}}getOutputData(){}},y=[{name:"disable_automl",label:"Custom Training",default:!1,type:o.XF.FORM_BOOLEAN_TYPE,group:i.iD.AUTOML_OPTIMIZATION,description:"By enabling custom training, you will be disabling the AutoML search. In this mode you can specify the hyperparameters for a single classifier and training algorithm. You will also be able to specify the feature selection algorithms used by the pipeline. The model performance will be evaluated using the selected validation method, but a single final model will be returned that is trained using all of the training data."},{name:"prediction_target(%)",label:"Prediction_target(%)",group:i.iD.TATGET_CONTRAINTS,default:"f1_score",options:[{name:"f1-score",value:"f1_score"},{name:"Accuracy",value:"accuracy"},{name:"Sensitivity",value:"sensitivity"}],type:o.XF.FORM_SELECT_TYPE,description:"Prediction targets are statistical scores of accuracy, f1_score and sensitivity. These scores are used to terminate the optimization process. If statistical targets (and hardware_targets) reach the desired scores, the optimization process is terminated for statistical optimization.",fieldset:[{parent:"prediction_target(%)",name:"f1_score",label:"f1-score",isFormHidden:!0,type:o.XF.FORM_RANGE_INT_TYPE,default:100,defaultStep:1,range:[1,100]},{parent:"prediction_target(%)",name:"accuracy",label:"Accuracy",isFormHidden:!0,type:o.XF.FORM_RANGE_INT_TYPE,default:100,defaultStep:1,range:[1,100]},{parent:"prediction_target(%)",name:"sensitivity",label:"Sensitivity",isFormHidden:!0,type:o.XF.FORM_RANGE_INT_TYPE,default:100,defaultStep:1,range:[1,100]}]},{name:"hardware_target",label:"Hardware target",group:i.iD.TATGET_CONTRAINTS,default:"classifiers_sram",options:[{name:"Classifer Size(B)",value:"classifiers_sram"}],type:o.XF.FORM_SELECT_TYPE,description:"Hardware_targets are latency, classifiers_sram. These scores are used to terminate the optimization process. If hardware targets reach the desired scores, the optimization process is terminated for hardware optimization.",fieldset:[{parent:"hardware_target",name:"classifiers_sram",label:"Classifer Size(B)",type:o.XF.FORM_INT_TYPE,default:32e3,defaultStep:1e3,range:[1,1e6]}]},{name:"selectorset",label:"Optimize Feature Selector",group:i.iD.AUTOML_SEARCH_SETTING,default:!0,opposite_value:"tvo",type:o.XF.FORM_BOOLEAN_TYPE,description:"The Feature Selector step will be optimized as part of the search space for the AutoML routine."},{name:"set_selectorset",label:"Select Feature Selector to optimize",group:i.iD.AUTOML_SEARCH_SETTING,description:"The Feature Selector step will be optimized as part of the search space for the AutoML routine.",isShowIfParamName:"selectorset",options:[{name:"Information Gain",value:"Information Gain"},{name:"t-Test Feature Selector",value:"t-Test Feature Selector"},{name:"Univariate Selection",value:"Univariate Selection"},{name:"Tree-based Selection",value:"Tree-based Selection"}],default:["Information Gain","t-Test Feature Selector","Univariate Selection","Tree-based Selection"],type:o.XF.FORM_MULTI_SELECT_TYPE},{name:"tvo",label:"Optimize training and classification Algorithms",group:i.iD.AUTOML_SEARCH_SETTING,opposite_value:"selectorset",default:!0,type:o.XF.FORM_BOOLEAN_TYPE,description:"The machine learning training algorithm and classifier hyperparatemers will be optimized as part of the search space for the AutoML routine."},{name:"set_training_algorithm",label:"Select Training Algorithms to optimize",group:i.iD.AUTOML_SEARCH_SETTING,description:"The machine learning training algorithms will be optimized as part of the search space for the AutoML routine.",isShowIfParamName:"tvo",options:[{name:"Hierarchical Clustering with Neuron Optimization\u200b",value:"Hierarchical Clustering with Neuron Optimization"},{name:"RBF with Neuron Allocation Optimization",value:"RBF with Neuron Allocation Optimization"},{name:"Random Forest",value:"Random Forest"},{name:"xGBoost",value:"xGBoost"},{name:"Fully Connected Neural Network",value:"Train Fully Connected Neural Network"}],default:["Hierarchical Clustering with Neuron Optimization","RBF with Neuron Allocation Optimization","Random Forest","xGBoost","Train Fully Connected Neural Network"],type:o.XF.FORM_MULTI_SELECT_TYPE},{name:"iterations",label:"Iterations",group:i.iD.AUTOML_SEARCH_SETTING,range:[1,15],defaultStep:1,default:1,type:o.XF.FORM_RANGE_INT_TYPE,description:"Defines the number of iterations the model will go through. At each iteration a new population of models is created by mutating the previous iterations population. A higher number of iteration produces better results but takes more time."},{name:"population_size",label:"Population Size",group:i.iD.AUTOML_SEARCH_SETTING,default:40,range:[10,200],defaultStep:10,type:o.XF.FORM_RANGE_INT_TYPE,description:"Defines how large the initial population is. A higher population means a larger initial search space is. A higher population typically produces better results but takes more time."},{name:"allow_unknown",label:"Anomaly Detection",group:i.iD.AUTOML_SEARCH_SETTING,default:!1,type:o.XF.FORM_BOOLEAN_TYPE,description:"Performs multiclass classification, but includes only classifiers that will predict Unknown (0) when presented with data outside the training distribution."}];const I=class{constructor(e){let{state:t,type:s,subtype:i,id:a,selectedSteps:n}=e;this.state=t,this.type=s,this.subtype=i,this.id=a,this.selectedSteps=n}__getInputContractFilterName(){return this.type===i._Y.TRAINING_ALGORITHM?this.INPUT_CLASSIFIERS:this.type===i._Y.VALIDATION?this.INPUT_VALIDATION_METHODS:void 0}__getSavedPipelineStepData(){var e;return n().isEmpty(this.selectedSteps)?(0,r.NV)(this.state,this.id):null===(e=this.selectedSteps.find((e=>e.id===this.id)))||void 0===e?void 0:e.data}__getSavedParams(e,t,s){var i,a;const n=this.__getSavedPipelineStepData();return t&&n[t]&&n[t][e]?n[t][e]:n[e]&&null!==(i=n[e])&&void 0!==i&&i.length?n[e]:n[e]&&null!==(a=Object.keys(n[e]))&&void 0!==a&&a.length?Object.keys(n[e]):n&&void 0!==n[e]?n[e]:s}getInputsData(){return y.map((e=>{var t;let s;return null!==(t=e.fieldset)&&void 0!==t&&t.length&&(s=e.fieldset.map((e=>({...e,default:this.__getSavedParams(e.name,e.parent,e.default)})))),{...e,default:this.__getSavedParams(e.name,e.parent,e.default),fieldset:s}}))}getCardParams(){const e=this.__getSavedParams("disable_automl",null);return[{name:"disable_automl",tooltip:e?"Run a specific training algorithm with user defined parameters.":"Performs a hyperparameter search over the parameters of the training algorithms, classifiers, and feature selectors.",label:"Training:",value:e?"Custom":"AutoML"}]}getOutputData(){console.log("getDefaultInputsData")}},N=e=>{let{type:t,...s}=e;if(i.Yh.includes(t))return new h({type:t,...s});if(i.v5.includes(t))return new v({type:t,...s});switch(t){case i._Y.QUERY:return new p({type:t,...s});case i._Y.FEATURE_GENERATOR:return new E({type:t,...s});case i._Y.FEATURE_SELECTOR:return new T({type:t,...s});case i._Y.AUGMENTATION:return new A({type:t,...s});case i._Y.AUTOML_PARAMS:return new I({type:t,...s});default:return new h({type:t,...s})}}},24441:(e,t,s)=>{s.d(t,{Ay:()=>o,Rt:()=>n});const i="metadata_label_values",a="sample_rate",n={QUERY_COLUMNS:"query_columns",QUERY_METADATA_COLUMNS:"query_metadata_columns",QUERY_LABEL_COLUMN:"query_label_column",QUERY_COMBINE_COLUMNS:"query_combine_labels",LABEL_VALUES:"label_values",FILTERING_LABEL_VALUES:i,METADATA_NAMES:"metadata_names",METADATA_LABEL_VALUES:"metadata_label_values",SAMPLE_RATE:a},o={window_size:{defaultLookup:a},delta:{defaultLookup:a},train_delta:{default_use_param:!1},input_data:{is_ignored:!0},feature_min_max_parameters:{is_hidden:!0,default:{}},feature_min_max_defaults:{default_use_param:!1},feature_pca_components:{lookup:"????",is_hidden:!0,is_ignored:!0},coefficients:{lookup:"????",is_hidden:!0,is_ignored:!0},query_columns:{lookup:"query_columns"},input_columns:{lookup:"query_columns"},input_column:{lookup:"query_columns"},group_columns:{lookup:"query_metadata_columns",is_hidden:!0},passthrough_columns:{lookup:"query_metadata_columns",is_hidden:!0},column_of_interest:{lookup:"query_columns"},columns_of_interest:{lookup:"query_columns"},first_column_of_interest:{lookup:"query_columns"},second_column_of_interest:{lookup:"query_columns"},label_column:{lookup:"query_label_column",is_hidden:!0},target_labels:{lookup:i},target_sensors:{lookup:"query_columns"},combine_labels:{lookup:i},filtering_label:{lookup:i},feature_columns:{lookup:"????",is_hidden:!0},metadata_name:{lookup:"metadata_names"},metadata_values:{lookup:i},columns:{lookup:"query_columns"},pre_specified_bins:{lookup:"????",is_ignored:!0},ignore_columns:{lookup:"query_columns"}}},553:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(41917),a=s(62482),n=s(24441);const o={selectSelectedQueryMetadataColumns:i.my,selectSelectedQueryColumns:i.vg,isHasUseParam(e){const t=n.Ay[e];return Boolean(void 0!==(null===t||void 0===t?void 0:t.default_use_param))},getDefaultUseParam(e){const t=n.Ay[e];return Boolean(null===t||void 0===t?void 0:t.default_use_param)},isQueryColumnsLookup(e){const t=n.Ay[e];return(null===t||void 0===t?void 0:t.lookup)===n.Rt.QUERY_COLUMNS},isMetadataLabels(e){const t=n.Ay[e];return(null===t||void 0===t?void 0:t.lookup)===n.Rt.FILTERING_LABEL_VALUES},isIgrored(e){const t=n.Ay[e];return Boolean(null===t||void 0===t?void 0:t.is_ignored)},isHiddenFormEl(e){const t=n.Ay[e];return Boolean(null===t||void 0===t?void 0:t.is_hidden)},isAdditionalyDefaultLookup(e){const t=n.Ay[e];return Boolean(null===t||void 0===t?void 0:t.defaultLookup)},isAdditionalyLookup(e){const t=n.Ay[e];return Boolean(null===t||void 0===t?void 0:t.lookup)},getDynamicDefaultValue(e){const t=n.Ay[e];if(null!==t&&void 0!==t&&t.defaultLookup)switch(null===t||void 0===t?void 0:t.defaultLookup){case n.Rt.SAMPLE_RATE:return(0,a.G)()(this.state);case n.Rt.QUERY_LABEL_COLUMN:return(0,i.q2)(this.state,this.queryName);default:return}},getDynamicOptions(e,t,s,a){const o=n.Ay[e];if(null===o||void 0===o||!o.lookup)return[];switch(null===o||void 0===o?void 0:o.lookup){case n.Rt.QUERY_COLUMNS:return this.selectSelectedQueryColumns(this.state,this.queryName,a).map((e=>({name:e,value:e,isDefault:!0})));case n.Rt.QUERY_METADATA_COLUMNS:return this.selectSelectedQueryMetadataColumns(this.state,this.queryName,t,s).map((e=>({name:e,value:e,isDefault:!0})));case n.Rt.QUERY_LABEL_COLUMN:const e=(0,i.q2)(this.state,this.queryName);return[{name:e,value:e,isDefault:!0}];case n.Rt.QUERY_COMBINE_COLUMNS:return(0,i.qx)(this.state,this.queryName).map((e=>({name:e,value:e,isDefault:!0})));case n.Rt.LABEL_VALUES:return(0,i.IR)(this.state,this.queryName).map((e=>({name:e,value:e,isDefault:!0})));case n.Rt.FILTERING_LABEL_VALUES:return(0,i.fd)(this.state,this.queryName).map((e=>({name:e,value:e,isDefault:!0})));case n.Rt.METADATA_NAMES:case n.Rt.METADATA_LABEL_VALUES:return this.selectSelectedQueryMetadataColumns(this.state,this.queryName,t,s).map((e=>({name:e,value:e,isDefault:!0})));default:return[]}}}},61236:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(53536),a=s.n(i),n=s(61689);const o=e=>a().reduce(e,((e,t)=>{var s;if(t.numColumns>0&&!a().isEmpty(null===t||void 0===t||null===(s=t.params)||void 0===s?void 0:s.columns)){var i;const s=(0,n.f)(null===t||void 0===t||null===(i=t.params)||void 0===i?void 0:i.columns,t.numColumns),a={...null===t||void 0===t?void 0:t.params};s.forEach((s=>{e.push({...t,params:{...a,columns:s},localId:(0,n.LP)()})}))}else e.push({...t,localId:(0,n.LP)()});return e}),[])},28361:(e,t,s)=>{s.d(t,{F:()=>i});const i={QUERY:"query",FEATURE_FILE:"featurefile",AUGMENTATION_SET:"augmentationset",TRANSFORM:"transform",GENERATOR_SET:"generatorset",SELECTOR_SET:"selectorset",TVO:"tvo",SEGMENTER:"segmenter",SAMPLER:"sampler"}},50440:(e,t,s)=>{s.d(t,{W8:()=>n,WV:()=>u,Wn:()=>r,f_:()=>o,ju:()=>l});var i=s(53536),a=s.n(i);const n=e=>t=>{var s;return a().isEmpty(null===t||void 0===t||null===(s=t.sessions)||void 0===s?void 0:s.data)?{}:t.sessions.data.find((t=>a().toString(t.id)===a().toString(e)))||{}},o=e=>t=>{var s,i,n;return a().isArray(null===t||void 0===t||null===(s=t.sessions)||void 0===s?void 0:s.data)&&!a().isEmpty(null===t||void 0===t||null===(i=t.sessions)||void 0===i?void 0:i.data)?(null===(n=t.sessions.data.find((t=>t.id===e)))||void 0===n?void 0:n.name)||{}:""},r=e=>{var t,s;return null!==e&&void 0!==e&&null!==(t=e.sessions)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.length?e.sessions.data[0]:{}},l=e=>{var t;let s=null===(t=(e=>{var t,s;return null!==(t=e.sessions)&&void 0!==t&&t.data&&null!==e&&void 0!==e&&null!==(s=e.sessions)&&void 0!==s&&s.selectedSessionUUID?e.sessions.data.find((t=>{var s;return a().toString(t.id)===a().toString(null===e||void 0===e||null===(s=e.sessions)||void 0===s?void 0:s.selectedSessionUUID)})):{}})(e))||void 0===t?void 0:t.id;var i;s||(s=null===(i=r(e))||void 0===i?void 0:i.id);return a().toString(s)||""},u=e=>{var t,s;const i=e=>{const t=JSON.parse(e);return(null===t||void 0===t?void 0:t.name)||""};return null!==e&&void 0!==e&&null!==(t=e.sessions)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.length?e.sessions.data.map((e=>({name:e.name,type:e.custom?"Manual":"Auto",algorithm:i(e.parameters)||"",uuid:a().toString(e.id),custom:e.custom}))):[]}}}]);
//# sourceMappingURL=114.aa7cbe44.chunk.js.map