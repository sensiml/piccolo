"use strict";(self.webpackChunksensiml_web=self.webpackChunksensiml_web||[]).push([[586],{1577:(e,t,l)=>{l.d(t,{A:()=>m});l(65043);var a=l(68903),i=l(85865),n=l(96446),o=l(69120),r=l(7478),s=l(98424),d=l(6011),c=l(34294),u=l(70579);const m=e=>{let{title:t,subtitle:l,onClickBack:m,actionsBtns:p,turncateLenght:x=0}=e;const g=(0,r.A)((e=>({panelWrapper:{padding:"0.75rem 1rem"},textWrapper:{display:"flex",alignItems:"center"},actionWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:e.spacing(.5),marginLeft:"auto"},stepperBackButton:{marginRight:e.spacing(2)},titleRoot:{fontSize:e.spacing(2.5)}})))();return(0,u.jsx)(d.W,{children:(0,u.jsxs)(a.Ay,{container:!0,className:g.panelWrapper,children:[(0,u.jsxs)(a.Ay,{item:!0,className:g.textWrapper,children:[m?(0,u.jsx)(c.tA,{className:g.stepperBackButton,onClick:m,color:"primary",size:"small",children:(0,u.jsx)(o.A,{})}):null,(0,u.jsx)(i.A,{variant:"h2",classes:{root:g.titleRoot},children:t&&(0,s.Ud)(t,x)}),(0,u.jsx)(n.A,{alignItems:"center",ml:2,children:l})]}),(0,u.jsx)(a.Ay,{item:!0,className:g.actionWrapper,children:p})]})})}},83746:(e,t,l)=>{l.d(t,{A:()=>V});var a=l(97508),i=l(38916),n=l(19490),o=l(28704),r=l(20697),s=l(65043),d=l(53536),c=l.n(d),u=l(7426),m=l(91688),p=l(95540),x=l(63471),g=l(36631),f=l(90705),h=l(67395),b=l(77739),A=l(17392),j=l(1995),k=l(12220),y=l(81637),v=l(5259),w=l(75882),N=l(52437),C=l(6011),S=l(34294),D=l(95004),E=l(41104),M=l(97111),_=l(83462),T=l(26600),P=l(35316),I=l(98533),L=l(67784),O=l(29347),z=l(11906),R=l(26480),U=l(85502),B=l(70579);const K=e=>{let{isOpen:t,parrentError:l,modelName:a,modelList:i,selectedModel:n,selectedPipeline:o,onClose:r,onSave:d}=e;const{t:m}=(0,u.B)("models"),[p,x]=(0,s.useState)(),[g,f]=(0,s.useState)();(0,s.useEffect)((()=>{x(a)}),[a]),(0,s.useEffect)((()=>{f(l)}),[l]);return(0,B.jsxs)(_.A,{disableEscapeKeyDown:!0,open:t,onClose:r,id:"renameKnowledgePack","aria-labelledby":"form-dialog-title",children:[(0,B.jsx)(T.A,{id:"form-dialog-title",children:m("dialog-rename-models-title")}),(0,B.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(!p)return void f(m("dialog-rename-models-error-requaried"));if(c().isArray(i)&&i.find((e=>e.name.toUpperCase()===p.toUpperCase()&&e.sandbox_uuid===o)))return void f(m("dialog-rename-models-error-exist",{newModelName:p}));const e=i.find((e=>e.uuid===n)),t=new RegExp("^".concat(e.name,"_"),"g"),l=[{uuid:n,newName:p}];c().isEmpty(null===e||void 0===e?void 0:e.knowledgepack_description)||c().keys(e.knowledgepack_description).forEach((a=>{if("Parent"!==a){const i="".concat(p,"_").concat(a.replace(t,""));if(i.length>40)return void f(m("dialog-rename-models-error-limit",{newModelName:p}));l.push({uuid:e.knowledgepack_description[a].uuid,newName:i})}})),d(l)})()},children:[(0,B.jsxs)(P.A,{children:[(0,B.jsx)(I.A,{id:"form-dialog-content",children:m("dialog-rename-models-subtitle")}),(0,B.jsx)(L.A,{error:Boolean(g),helperText:g,autoFocus:!0,margin:"dense",id:"newKnowledgepackName",label:"Name",required:!0,defaultValue:a,onChange:e=>{e.preventDefault();const{value:t}=e.target;x(t)},fullWidth:!0})]}),(0,B.jsxs)(O.A,{id:"renameKnowledgepackActions",children:[(0,B.jsx)(z.A,{onClick:r,startIcon:(0,B.jsx)(U.A,{}),color:"primary",variant:"outlined",children:m("dialog-rename-models-cancel-btn")}),(0,B.jsx)(z.A,{type:"submit",startIcon:(0,B.jsx)(R.A,{}),color:"primary",variant:"outlined",children:m("dialog-rename-models-confirm-btn")})]})]})]})};var F=l(5011),W=l(7478);const $=()=>(0,W.A)((e=>({root:{flexGrow:1},errorDiv:{marginTop:-22,minHeight:50},errorMessage:{color:e.palette.error.main},addNewButton:{marginRight:20,marginTop:20},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})))(),H=e=>{let{tableTitle:t,knowledgepacks:l,selectedProject:a,deleteModel:i,loadKnowledgepacks:n,renameModel:o,openRouterRedirect:r,openTitle:d}=e;const{t:_}=(0,u.B)("models"),T=(0,m.useHistory)(),P=$(),[I,L]=(0,s.useState)([]),[O,z]=(0,s.useState)(null),[R,U]=(0,s.useState)(null),[W,H]=(0,s.useState)(null),[q,V]=(0,s.useState)(null),[X,Z]=(0,s.useState)(null),[G,J]=(0,s.useState)([]),[Q,Y]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(!1),[le,ae]=(0,s.useState)(!1),[ie,ne]=(0,s.useState)(!1),[oe,re]=(0,s.useState)(""),[se,de]=(0,s.useState)("success"),[ce,ue]=(0,s.useState)(!1),me=(0,s.useMemo)((()=>c().isEmpty(G)?_("model-table.dialog-delete-text",{name:q}):_("model-table.dialog-delete-multi-text",{count:null===G||void 0===G?void 0:G.length})),[q,G]),pe=(0,s.useMemo)((()=>c().isEmpty(G)),[G]),xe=(0,s.useMemo)((()=>c().union(G,[X]).filter((e=>e))),[G,X]);(0,s.useEffect)((()=>{l.data=E.A.sortObjects(l.data||[{}],"created_at",!1,"dsc"),L(l)}),[l]);const ge=(e,t)=>{re(t),de(e),ne(!0)},fe=(e,t,l)=>{T.push((0,m.generatePath)(e,{projectUUID:a,pipelineUUID:t,modelUUID:l}))},he=(e,t)=>{"clickaway"!==t&&ne(!1)},be=(e,t)=>{Z(e),V(t),te(!0)},Ae=()=>{te(!1)},je=(e,t)=>{let l=null;return e&&!e.isFetching&&e.data&&0!==!e.data.length?(l={},e.data.forEach((e=>l[e[t]]=e[t])),l):l},ke=[{title:"Name",field:"name",primary:!0,sortable:!0,type:N.$.Text,filterable:!0,render:(e,t)=>{const l=r||M.bw.MAIN.MODEL_EXPLORE.path,a=d||"Explore model";return(0,B.jsx)(F.H,{color:"primary",tooltipTitle:"".concat(a,": ").concat(e),onClick:()=>fe(l,t.sandbox_uuid,t.uuid),children:e})}},{title:"Classifier",field:"classifier_name",sortable:!0,type:N.$.Text,filterable:!0,lookup:je(I,"classifier_name")},{title:"Accuracy",field:"accuracy",sortable:!0,type:N.$.Numeric,filterable:!0,render:e=>!e||Number.isNaN(e)||""===e?e:"".concat(Number(e).toFixed(2)," %")},{title:"Model Size (Bytes)",field:"model_size",sortable:!0,type:N.$.Numeric,filterable:!0},{title:"Feature Count",field:"features_count",sortable:!0,type:N.$.Numeric,filterable:!0},{title:"Pipeline",field:"sandbox_name",sortable:!0,type:N.$.Text,filterable:!0,lookup:je(I,"sandbox_name")},{title:"Created Date",field:"created_at",render:e=>E.A.convertToLocalDateTime(e),sortable:!0,type:N.$.DateTime,filterable:!0},{title:"UUID",field:"uuid",sortable:!0,type:N.$.Text,filterable:!0},{title:"Explore",field:"uuid",render:(e,t)=>(0,B.jsx)(b.A,{title:"Explore Model",children:(0,B.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:()=>fe(M.bw.MAIN.MODEL_EXPLORE.path,t.sandbox_uuid,e),children:(0,B.jsx)(f.A,{})})})},{title:"Test",field:"uuid",render:(e,t)=>(0,B.jsx)(b.A,{title:"Test Model",children:(0,B.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:()=>fe(M.bw.MAIN.MODEL_TEST.path,t.sandbox_uuid,e),children:(0,B.jsx)(h.A,{})})})},{title:"Download",field:"uuid",render:(e,t)=>(0,B.jsx)(b.A,{title:"Download Knowledge Pack",children:(0,B.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:()=>fe(M.bw.MAIN.MODEL_DOWNLOAD.path,t.sandbox_uuid,e),children:(0,B.jsx)(g.A,{})})})},{title:"Rename",field:"uuid",render:(e,t)=>(0,B.jsx)(b.A,{title:"Rename Knowledgepack",children:(0,B.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:l=>{return a=e,i=t.name,n=t.sandbox_uuid,U(n),z(a),H(i),void ae(!0);var a,i,n},children:(0,B.jsx)(p.A,{})})})},{title:_("model-table.title-delete"),field:"uuid",render:(e,t)=>(0,B.jsx)(b.A,{title:_("model-table.tooltip-delete"),children:(0,B.jsx)(A.A,{variant:"contained",color:"primary",size:"small",disabled:!pe,onClick:l=>be(e,null===t||void 0===t?void 0:t.name),children:(0,B.jsx)(x.A,{})})})}],ye={rowsPerPage:25,rowsPerPageOptions:[10,25,50,100,"All"],showPagination:!0,applyFilters:!0,noContentText:"No Knowledge Packs",excludePrimaryFromDetails:!0,isDarkHeader:!0,selectionField:"uuid",isShowSelection:!0,onSelectInTable:e=>{J(e)}};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(C.f,{title:t||_("model-table.title"),onRefresh:()=>{n(a)},ActionComponent:(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(S.U,{icon:(0,B.jsx)(x.A,{}),variant:"outlined",color:"primary",disabled:pe,onClick:()=>be(),text:_("Delete")})})}),(0,B.jsx)(v.A,{tableId:"knowledgePackTable",tableColumns:ke,tableData:I,tableOptions:ye}),(0,B.jsx)(K,{modelName:W,isOpen:le,onClose:()=>{ae(!1)},modelList:(null===I||void 0===I?void 0:I.data)||[],selectedModel:O,selectedPipeline:R,onSave:async e=>{ue(!0),ae(!1);try{const t=await o(a,R,O,e);if("error"===t.status)return ge("warning",t.details),ue(!1),void n(a)}catch(t){return ge("error",t.message),void ue(!1)}n(a),ge("success","Successfuly renamed the Knowledgepack."),ue(!1)}}),(0,B.jsx)(D.Z,{isOpen:ee,title:_("model-table.dialog-delete-title"),text:me,isLoading:Q,onConfirm:()=>(async()=>{const e=[];Y(!0);for(const l of xe)try{await i(l),e.push(l)}catch(t){ge("error",t.message)}e.includes(X)&&Z(""),c().isEmpty(G)||J(G.filter((t=>!e.includes(t)))),null!==e&&void 0!==e&&e.length&&ge("success",_("model-table.msg-success-delete")),Y(!1),Ae(),n(a),V(null)})(),onCancel:()=>Ae(),cancelText:_("dialog-confirm-delete.cancel"),confirmText:_("dialog-confirm-delete.delete")}),(0,B.jsx)(j.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:ie,autoHideDuration:2e3,onClose:he,children:(0,B.jsx)(w.A,{onClose:he,variant:se,message:oe})}),(0,B.jsx)(k.A,{className:P.backdrop,open:ce,children:(0,B.jsx)(y.A,{size:100})})]})},q={setActiveView:r.U7,setSelectedPipeline:o.E5,setSelectedModel:i.xH,deleteModel:i.De,loadKnowledgepacks:n.R,loadModels:i.Zl,renameModel:i.oB},V=(0,a.Ng)((e=>{var t,l;return{knowledgepacks:e.knowledgepacks,selectedProject:null===(t=e.projects)||void 0===t||null===(l=t.selectedProject)||void 0===l?void 0:l.uuid}}),q)(H)},5011:(e,t,l)=>{l.d(t,{H:()=>s});l(65043);var a=l(77739),i=l(88446),n=l(7478);const o=()=>(0,n.A)((e=>({...e.common,baseLink:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"none",cursor:"pointer",color:e.palette.primary.dark}}})))();var r=l(70579);const s=e=>{let{children:t,tooltipTitle:l,...n}=e;const s=o();return(0,r.jsx)(a.A,{title:l,children:(0,r.jsx)(i.A,{...n,className:s.baseLink,children:t})})}}}]);
//# sourceMappingURL=586.c17d616b.chunk.js.map