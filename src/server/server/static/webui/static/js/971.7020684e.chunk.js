"use strict";(self.webpackChunksensiml_web=self.webpackChunksensiml_web||[]).push([[971],{60137:(e,t,l)=>{l.d(t,{A:()=>m});var n=l(97508),r=l(65043),a=l(77739),i=l(85865),o=l(5259),s=l(7426),c=l(7478);const d=()=>(0,c.A)((e=>({grid:{},box:{minWidth:245,paddingRight:20},headerDataLabel:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},centered:{display:"flex",alignItems:"center",flexDirection:"column",marginRight:"2em",marginBottom:"2em"}})))();var u=l(70579);const p={TOTAL:"Predicted",SUPPORT:"Support",UNC:"UNC",UNK:"UNK",POSTPRED:"Pos_Predic(%)",SENSPERC:"Sensitivity(%)",GroundTruth_Total:"GroundTruth_Total",GroundTruth_Title:"Ground Truth"},h=e=>{let{model:t,showTitle:l,modelName:n,fileName:c}=e;const h=d(),[m,b]=(0,r.useState)({data:null,isFetching:t.isFetching}),[x,R]=(0,r.useState)(),{t:T}=(0,s.B)("models"),f=(e,t,l)=>l.tableMainCell,A=(e,t,l)=>{const n=t[e.field],r=t.support;let a=null;if(0!==n&&0!==r){const i=10*Math.round(n/r*100/10);a=t.label===e.title?((e,t)=>{switch(e){case 0:default:return t.tableRowGreen;case 10:return t.tableRowGreen10;case 20:return t.tableRowGreen20;case 30:return t.tableRowGreen30;case 40:return t.tableRowGreen40;case 50:return t.tableRowGreen50;case 60:return t.tableRowGreen60;case 70:return t.tableRowGreen70;case 80:return t.tableRowGreen80;case 90:return t.tableRowGreen90;case 100:return t.tableRowGreen100}})(i,l):((e,t)=>{switch(e){case 0:return t.tableRowRed;case 10:return t.tableRowRed10;case 20:return t.tableRowRed20;case 30:return t.tableRowRed30;case 40:return t.tableRowRed40;case 50:return t.tableRowRed50;case 60:return t.tableRowRed60;case 70:return t.tableRowRed70;case 80:return t.tableRowRed80;case 90:return t.tableRowRed90;case 100:return t.tableRowRed100;default:return t.tableRowGreen}})(i,l)}return t.label===p.POSTPRED&&(a=null),t.label!==p.TOTAL&&e.title!==p.SUPPORT&&e.title!==p.GroundTruth_Title||(a=l.tableDelimiteddBlue),"".concat(l.tableGenericCenteredCell," ").concat(a)},w=(e,t,l)=>"".concat(l.tableGenericCenteredCell," ").concat(t.label===p.TOTAL||e.title===p.SUPPORT||e.title===p.GroundTruth_Title?l.tableDelimiteddBlue:null),g=e=>e.title,C=e=>(0,u.jsx)(a.A,{title:T("confusion-matrix.support"),children:(0,u.jsxs)(i.A,{children:[" ",e.title," "]})}),j=e=>(0,u.jsx)(a.A,{title:T("confusion-matrix.ground-truth"),children:(0,u.jsxs)(i.A,{children:[" ",e.title," "]})}),N=e=>(0,u.jsx)(a.A,{title:T("confusion-matrix.sensitivity"),children:(0,u.jsxs)(i.A,{children:[" ",e.title," "]})}),S=e=>(0,u.jsx)(a.A,{title:T("confusion-matrix.unk"),children:(0,u.jsxs)(i.A,{children:[" ",e.title," "]})}),y=e=>e&&e===p.TOTAL?(0,u.jsx)(a.A,{title:T("confusion-matrix.predicted"),children:(0,u.jsxs)(i.A,{children:[" ",e," "]})}):e&&e===p.POSTPRED?(0,u.jsx)(a.A,{title:T("confusion-matrix.positive-predictivity"),children:(0,u.jsxs)(i.A,{children:[" ",e," "]})}):!e||isNaN(e)||""===e?e:Number(e).toFixed(2),P=(e,t)=>{const l=e.field,n=t.field;let r=0;return l>n?r=1:l<n&&(r=-1),r},_=(e,t)=>{const l=e.label,n=t.label;let r=0;return l>n?r=1:l<n&&(r=-1),r};(0,r.useEffect)((()=>{b({data:[],isFetching:t.isFetching});const e=[];let l=!1,n=[],r=0;if(t.data){const i=t.data;n.push({title:"",field:"label",primary:!0,renderLabel:g,render:y,handleCellStyles:f});let o=0;const s={label:p.TOTAL};let c=[];for(const t in i){const n={label:t};let d=0;for(const e in i[t])s[e]=s[e]?s[e]:0,0===o&&(c.push({title:e,field:e,primary:!0,renderLabel:g,handleCellStyles:A}),e===p.GroundTruth_Total&&(l=!0)),n[e]=(a=i[t][e],+"".concat(Math.round("".concat(a,"e+2")),"e-2")),e===p.UNC?s[e]-=n[e]?n[e]:0:s[e]+=n[e]?n[e]:0,e===p.UNK&&"unknown"===t.toLowerCase()&&(r+=i[t][e]?i[t][e]:0),e!==p.GroundTruth_Total&&(d+=i[t][e]?i[t][e]:0);n.support=d,n.sense_perc=0===d?"":Number(100*(n[t]+r)/d).toFixed(2),s.support=(s.support?s.support:0)+n.support,s.sense_perc="",o++,e.push(n)}e.sort(_),e.push(s),c=c.filter((e=>![p.UNC,p.UNK,p.GroundTruth_Total].includes(e.field))),c.sort(P),c.push({title:p.UNK,field:p.UNK,primary:!0,renderLabel:S,handleCellStyles:w}),n=n.concat(c);const d={label:p.POSTPRED};let u=0;for(const t in n){const l=n[t].field;if("label"!==l){const t=e.find((e=>e.label===l));t&&(u+=t[l],s[l]&&0!==s[l]?d[l]=Number(t[l]/s[l]*100).toFixed(2):d[l]=null)}}d.support="Acc(%)",d.sense_perc=0===s.support?null:Number(100*(u+r)/s.support).toFixed(2),e.push(d),l&&n.push({title:p.GroundTruth_Title,field:p.GroundTruth_Total,primary:!0,renderLabel:j,handleCellStyles:w}),n.push({title:p.SUPPORT,field:"support",primary:!0,renderLabel:C,handleCellStyles:w},{title:p.SENSPERC,field:"sense_perc",primary:!0,renderLabel:N,render:y,handleCellStyles:w})}var a;b({data:e,isFetching:!1}),R(n)}),[t]);return(0,u.jsxs)("div",{className:h.centered,children:[l?(0,u.jsx)(i.A,{variant:"h2",className:h.title,children:"".concat("").concat(n?"".concat(n):"").concat(c?" - ".concat(c):"")}):null,(0,u.jsx)(o.A,{tableColumns:x,tableData:m,tableOptions:{rowsPerPage:100,showPagination:!1,noContentText:"No Data for Confusion Matrix",excludePrimaryFromDetails:!0,headersCentered:!0,isDarkHeader:!0},tableXS:null})]})},m=(0,n.Ng)(null,null)(h)},1577:(e,t,l)=>{l.d(t,{A:()=>p});l(65043);var n=l(68903),r=l(85865),a=l(96446),i=l(69120),o=l(7478),s=l(98424),c=l(6011),d=l(34294),u=l(70579);const p=e=>{let{title:t,subtitle:l,onClickBack:p,actionsBtns:h,turncateLenght:m=0}=e;const b=(0,o.A)((e=>({panelWrapper:{padding:"0.75rem 1rem"},textWrapper:{display:"flex",alignItems:"center"},actionWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:e.spacing(.5),marginLeft:"auto"},stepperBackButton:{marginRight:e.spacing(2)},titleRoot:{fontSize:e.spacing(2.5)}})))();return(0,u.jsx)(c.W,{children:(0,u.jsxs)(n.Ay,{container:!0,className:b.panelWrapper,children:[(0,u.jsxs)(n.Ay,{item:!0,className:b.textWrapper,children:[p?(0,u.jsx)(d.tA,{className:b.stepperBackButton,onClick:p,color:"primary",size:"small",children:(0,u.jsx)(i.A,{})}):null,(0,u.jsx)(r.A,{variant:"h2",classes:{root:b.titleRoot},children:t&&(0,s.Ud)(t,m)}),(0,u.jsx)(a.A,{alignItems:"center",ml:2,children:l})]}),(0,u.jsx)(n.Ay,{item:!0,className:b.actionWrapper,children:h})]})})}},80923:(e,t,l)=>{l.d(t,{A:()=>b});var n=l(65043),r=l(1577),a=l(91688),i=l(69120),o=l(17022),s=l(36631),c=l(7426),d=l(97111),u=l(33206),p=l(34815),h=l(34294),m=l(70579);const b=e=>{let{modelData:t,isChangePlatform:l,onChangePlatform:b,downloading:x,handleDownloadRequest:R}=e;const{t:T}=(0,c.B)("models"),f=(0,a.useHistory)(),{pathname:A}=(0,a.useLocation)(),w=()=>{const e=(0,a.generatePath)(d.bw.MAIN.MODEL_SELECT.path,{selectionMode:d.bw.MAIN.MODEL_SELECT.MODES.CHANGE});f.push(e,{parentPath:A})},[g,C]=(0,n.useState)(!1);return(0,u.G4)((e=>{C(e.innerWidth<p.xp.WIDTH_FOR_SHORT_TEXT)})),(0,m.jsx)(r.A,{title:g?null===t||void 0===t?void 0:t.name:T("model-select.control-panel-change",{modelName:null===t||void 0===t?void 0:t.name}),onClickBack:g?null:w,turncateLenght:g?p.xp.TRUNCATE_NAME_OVER_SHORT_TEXT:p.xp.TRUNCATE_NAME_OVER,actionsBtns:(0,m.jsxs)(m.Fragment,{children:[l?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(h.bw,{variant:"outlined",color:"primary",disabled:!1,onClick:()=>{b()},isShort:g,tooltip:T("model-panel.change-platform-btn"),text:T("model-panel.change-platform-btn"),icon:(0,m.jsx)(o.A,{})}),(0,m.jsx)(h.bw,{variant:"outlined",color:"primary",disabled:x,onClick:()=>R(),isShort:g,tooltip:T("model-panel.download-model-btn"),text:T("model-panel.download-model-btn"),icon:(0,m.jsx)(s.A,{})})]}):null,(0,m.jsx)(h.bw,{variant:"outlined",color:"primary",onClick:()=>w(),isShort:g,tooltip:T("model-panel.change-btn"),text:T("model-panel.change-btn"),icon:(0,m.jsx)(i.A,{})})]})})}},29765:(e,t,l)=>{l.d(t,{A:()=>o});l(65043);var n=l(85865),r=l(63336),a=l(96446),i=l(70579);const o=e=>{const{children:t,value:l,index:o,p:s=2,mt:c=2,...d}=e;return(0,i.jsx)(n.A,{component:"div",role:"tabpanel",hidden:l!==o,id:"full-width-tabpanel-".concat(o),"aria-labelledby":"full-width-tab-".concat(o),...d,children:l===o&&(0,i.jsx)(r.A,{elevation:0,children:(0,i.jsx)(a.A,{p:s,mt:c,children:t})})})}}}]);
//# sourceMappingURL=971.7020684e.chunk.js.map