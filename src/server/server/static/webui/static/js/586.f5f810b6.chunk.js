"use strict";(self.webpackChunksensiml_web=self.webpackChunksensiml_web||[]).push([[586],{1577:(e,t,l)=>{l.d(t,{A:()=>m});l(65043);var a=l(68903),i=l(85865),o=l(96446),n=l(69120),r=l(7478),s=l(98424),d=l(6011),c=l(34294),u=l(70579);const m=e=>{let{title:t,subtitle:l,onClickBack:m,actionsBtns:p,turncateLenght:x=0}=e;const g=(0,r.A)((e=>({panelWrapper:{padding:"0.75rem 1rem"},textWrapper:{display:"flex",alignItems:"center"},actionWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:e.spacing(.5),marginLeft:"auto"},stepperBackButton:{marginRight:e.spacing(2)},titleRoot:{fontSize:e.spacing(2.5)}})))();return(0,u.jsx)(d.W,{children:(0,u.jsxs)(a.Ay,{container:!0,className:g.panelWrapper,children:[(0,u.jsxs)(a.Ay,{item:!0,className:g.textWrapper,children:[m?(0,u.jsx)(c.tA,{className:g.stepperBackButton,onClick:m,color:"primary",size:"small",children:(0,u.jsx)(n.A,{})}):null,(0,u.jsx)(i.A,{variant:"h2",classes:{root:g.titleRoot},children:t&&(0,s.Ud)(t,x)}),(0,u.jsx)(o.A,{alignItems:"center",ml:2,children:l})]}),(0,u.jsx)(a.Ay,{item:!0,className:g.actionWrapper,children:p})]})})}},83746:(e,t,l)=>{l.d(t,{A:()=>V});var a=l(97508),i=l(38916),o=l(19490),n=l(28704),r=l(20697),s=l(65043),d=l(53536),c=l.n(d),u=l(7426),m=l(91688),p=l(95540),x=l(63471),g=l(36631),f=l(90705),h=l(67395),b=l(77739),A=l(17392),j=l(1995),k=l(12220),y=l(81637),v=l(5259),w=l(75882),N=l(52437),C=l(6011),S=l(34294),D=l(95004),M=l(41104),E=l(97111),_=l(83462),T=l(26600),P=l(35316),I=l(98533),L=l(67784),O=l(29347),z=l(11906),B=l(26480),R=l(85502),U=l(70579);const K=e=>{let{isOpen:t,parrentError:l,modelName:a,modelList:i,selectedModel:o,selectedPipeline:n,onClose:r,onSave:d}=e;const{t:m}=(0,u.B)("models"),[p,x]=(0,s.useState)(),[g,f]=(0,s.useState)();(0,s.useEffect)((()=>{x(a)}),[a]),(0,s.useEffect)((()=>{f(l)}),[l]);return(0,U.jsxs)(_.A,{disableEscapeKeyDown:!0,open:t,onClose:r,id:"renameKnowledgePack","aria-labelledby":"form-dialog-title",children:[(0,U.jsx)(T.A,{id:"form-dialog-title",children:m("dialog-rename-models-title")}),(0,U.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(!p)return void f(m("dialog-rename-models-error-requaried"));if(c().isArray(i)&&i.find((e=>e.name.toUpperCase()===p.toUpperCase()&&e.sandbox_uuid===n)))return void f(m("dialog-rename-models-error-exist",{newModelName:p}));const e=i.find((e=>e.uuid===o)),t=new RegExp("^".concat(e.name,"_"),"g"),l=[{uuid:o,newName:p}];c().isEmpty(null===e||void 0===e?void 0:e.knowledgepack_description)||c().keys(e.knowledgepack_description).forEach((a=>{if("Parent"!==a){const i="".concat(p,"_").concat(a.replace(t,""));if(i.length>40)return void f(m("dialog-rename-models-error-limit",{newModelName:p}));l.push({uuid:e.knowledgepack_description[a].uuid,newName:i})}})),d(l)})()},children:[(0,U.jsxs)(P.A,{children:[(0,U.jsx)(I.A,{id:"form-dialog-content",children:m("dialog-rename-models-subtitle")}),(0,U.jsx)(L.A,{error:Boolean(g),helperText:g,autoFocus:!0,margin:"dense",id:"newKnowledgepackName",label:"Name",required:!0,defaultValue:a,onChange:e=>{e.preventDefault();const{value:t}=e.target;x(t)},fullWidth:!0})]}),(0,U.jsxs)(O.A,{id:"renameKnowledgepackActions",children:[(0,U.jsx)(z.A,{onClick:r,startIcon:(0,U.jsx)(R.A,{}),color:"primary",variant:"outlined",children:m("dialog-rename-models-cancel-btn")}),(0,U.jsx)(z.A,{type:"submit",startIcon:(0,U.jsx)(B.A,{}),color:"primary",variant:"outlined",children:m("dialog-rename-models-confirm-btn")})]})]})]})};var F=l(5011),W=l(7478);const $=()=>(0,W.A)((e=>({root:{flexGrow:1},errorDiv:{marginTop:-22,minHeight:50},errorMessage:{color:e.palette.error.main},addNewButton:{marginRight:20,marginTop:20},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})))(),H=e=>{let{tableTitle:t,knowledgepacks:l,selectedProject:a,deleteModel:i,clearModel:o,loadKnowledgepacks:n,renameModel:r,openRouterRedirect:d,openTitle:_}=e;const{t:T}=(0,u.B)("models"),P=(0,m.useHistory)(),I=$(),[L,O]=(0,s.useState)([]),[z,B]=(0,s.useState)(null),[R,W]=(0,s.useState)(null),[H,q]=(0,s.useState)(null),[V,X]=(0,s.useState)(null),[Z,G]=(0,s.useState)(null),[J,Q]=(0,s.useState)([]),[Y,ee]=(0,s.useState)(!1),[te,le]=(0,s.useState)(!1),[ae,ie]=(0,s.useState)(!1),[oe,ne]=(0,s.useState)(!1),[re,se]=(0,s.useState)(""),[de,ce]=(0,s.useState)("success"),[ue,me]=(0,s.useState)(!1),pe=(0,s.useMemo)((()=>c().isEmpty(J)?T("model-table.dialog-delete-text",{name:V}):T("model-table.dialog-delete-multi-text",{count:null===J||void 0===J?void 0:J.length})),[V,J]),xe=(0,s.useMemo)((()=>c().isEmpty(J)),[J]),ge=(0,s.useMemo)((()=>c().union(J,[Z]).filter((e=>e))),[J,Z]);(0,s.useEffect)((()=>{l.data=M.A.sortObjects(l.data||[{}],"created_at",!1,"dsc"),O(l)}),[l]);const fe=(e,t)=>{se(t),ce(e),ne(!0)},he=(e,t,l)=>{o(),P.push((0,m.generatePath)(e,{projectUUID:a,pipelineUUID:t,modelUUID:l}))},be=(e,t)=>{"clickaway"!==t&&ne(!1)},Ae=(e,t)=>{G(e),X(t),le(!0)},je=()=>{le(!1)},ke=(e,t)=>{let l=null;return e&&!e.isFetching&&e.data&&0!==!e.data.length?(l={},e.data.forEach((e=>l[e[t]]=e[t])),l):l},ye=[{title:"Name",field:"name",primary:!0,sortable:!0,type:N.$.Text,filterable:!0,render:(e,t)=>{const l=d||E.bw.MAIN.MODEL_EXPLORE.path,a=_||"Explore model";return(0,U.jsx)(F.H,{color:"primary",tooltipTitle:"".concat(a,": ").concat(e),onClick:()=>he(l,t.sandbox_uuid,t.uuid),children:e})}},{title:"Classifier",field:"classifier_name",sortable:!0,type:N.$.Text,filterable:!0,lookup:ke(L,"classifier_name")},{title:"Accuracy",field:"accuracy",sortable:!0,type:N.$.Numeric,filterable:!0,render:e=>!e||Number.isNaN(e)||""===e?e:"".concat(Number(e).toFixed(2)," %")},{title:"Model Size (Bytes)",field:"model_size",sortable:!0,type:N.$.Numeric,filterable:!0},{title:"Feature Count",field:"features_count",sortable:!0,type:N.$.Numeric,filterable:!0},{title:"Pipeline",field:"sandbox_name",sortable:!0,type:N.$.Text,filterable:!0,lookup:ke(L,"sandbox_name")},{title:"Created Date",field:"created_at",render:e=>M.A.convertToLocalDateTime(e),sortable:!0,type:N.$.DateTime,filterable:!0},{title:"UUID",field:"uuid",sortable:!0,type:N.$.Text,filterable:!0},{title:"Explore",field:"uuid",render:(e,t)=>(0,U.jsx)(b.A,{title:"Explore Model",children:(0,U.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:()=>he(E.bw.MAIN.MODEL_EXPLORE.path,t.sandbox_uuid,e),children:(0,U.jsx)(f.A,{})})})},{title:"Test",field:"uuid",render:(e,t)=>(0,U.jsx)(b.A,{title:"Test Model",children:(0,U.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:()=>he(E.bw.MAIN.MODEL_TEST.path,t.sandbox_uuid,e),children:(0,U.jsx)(h.A,{})})})},{title:"Download",field:"uuid",render:(e,t)=>(0,U.jsx)(b.A,{title:"Download Knowledge Pack",children:(0,U.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:()=>he(E.bw.MAIN.MODEL_DOWNLOAD.path,t.sandbox_uuid,e),children:(0,U.jsx)(g.A,{})})})},{title:"Rename",field:"uuid",render:(e,t)=>(0,U.jsx)(b.A,{title:"Rename Knowledgepack",children:(0,U.jsx)(A.A,{variant:"contained",color:"primary",size:"small",onClick:l=>{return a=e,i=t.name,o=t.sandbox_uuid,W(o),B(a),q(i),void ie(!0);var a,i,o},children:(0,U.jsx)(p.A,{})})})},{title:T("model-table.title-delete"),field:"uuid",render:(e,t)=>(0,U.jsx)(b.A,{title:T("model-table.tooltip-delete"),children:(0,U.jsx)(A.A,{variant:"contained",color:"primary",size:"small",disabled:!xe,onClick:l=>Ae(e,null===t||void 0===t?void 0:t.name),children:(0,U.jsx)(x.A,{})})})}],ve={rowsPerPage:25,rowsPerPageOptions:[10,25,50,100,"All"],showPagination:!0,applyFilters:!0,noContentText:"No Knowledge Packs",excludePrimaryFromDetails:!0,isDarkHeader:!0,selectionField:"uuid",isShowSelection:!0,onSelectInTable:e=>{Q(e)}};return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(C.f,{title:t||T("model-table.title"),onRefresh:()=>{n(a)},ActionComponent:(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(S.U,{icon:(0,U.jsx)(x.A,{}),variant:"outlined",color:"primary",disabled:xe,onClick:()=>Ae(),text:T("Delete")})})}),(0,U.jsx)(v.A,{tableId:"knowledgePackTable",tableColumns:ye,tableData:L,tableOptions:ve}),(0,U.jsx)(K,{modelName:H,isOpen:ae,onClose:()=>{ie(!1)},modelList:(null===L||void 0===L?void 0:L.data)||[],selectedModel:z,selectedPipeline:R,onSave:async e=>{me(!0),ie(!1);try{const t=await r(a,R,z,e);if("error"===t.status)return fe("warning",t.details),me(!1),void n(a)}catch(t){return fe("error",t.message),void me(!1)}n(a),fe("success","Successfuly renamed the Knowledgepack."),me(!1)}}),(0,U.jsx)(D.Z,{isOpen:te,title:T("model-table.dialog-delete-title"),text:pe,isLoading:Y,onConfirm:()=>(async()=>{const e=[];ee(!0);for(const l of ge)try{await i(l),e.push(l)}catch(t){fe("error",t.message)}e.includes(Z)&&G(""),c().isEmpty(J)||Q(J.filter((t=>!e.includes(t)))),null!==e&&void 0!==e&&e.length&&fe("success",T("model-table.msg-success-delete")),ee(!1),je(),n(a),X(null)})(),onCancel:()=>je(),cancelText:T("dialog-confirm-delete.cancel"),confirmText:T("dialog-confirm-delete.delete")}),(0,U.jsx)(j.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:oe,autoHideDuration:2e3,onClose:be,children:(0,U.jsx)(w.A,{onClose:be,variant:de,message:re})}),(0,U.jsx)(k.A,{className:I.backdrop,open:ue,children:(0,U.jsx)(y.A,{size:100})})]})},q={setActiveView:r.U7,setSelectedPipeline:n.E5,setSelectedModel:i.xH,deleteModel:i.De,loadKnowledgepacks:o.R,loadModels:i.Zl,renameModel:i.oB,clearModel:i.lB},V=(0,a.Ng)((e=>{var t,l;return{knowledgepacks:e.knowledgepacks,selectedProject:null===(t=e.projects)||void 0===t||null===(l=t.selectedProject)||void 0===l?void 0:l.uuid}}),q)(H)},5011:(e,t,l)=>{l.d(t,{H:()=>s});l(65043);var a=l(77739),i=l(88446),o=l(7478);const n=()=>(0,o.A)((e=>({...e.common,baseLink:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"none",cursor:"pointer",color:e.palette.primary.dark}}})))();var r=l(70579);const s=e=>{let{children:t,tooltipTitle:l,...o}=e;const s=n();return(0,r.jsx)(a.A,{title:l,children:(0,r.jsx)(i.A,{...o,className:s.baseLink,children:t})})}}}]);
//# sourceMappingURL=586.f5f810b6.chunk.js.map